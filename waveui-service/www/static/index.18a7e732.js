var Tl=Object.defineProperty,Ll=Object.defineProperties;var Al=Object.getOwnPropertyDescriptors;var Cn=Object.getOwnPropertySymbols;var Bl=Object.prototype.hasOwnProperty,zl=Object.prototype.propertyIsEnumerable;var Nn=(e,a,n)=>a in e?Tl(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,B=(e,a)=>{for(var n in a||(a={}))Bl.call(a,n)&&Nn(e,n,a[n]);if(Cn)for(var n of Cn(a))zl.call(a,n)&&Nn(e,n,a[n]);return e},ne=(e,a)=>Ll(e,Al(a));import{t as Rl,d as k,g as Xe,T as yt,B as nt,i as vt,c as Il,h as Sn,l as br,r as Ue,s as L,I as Be,C as an,a as Fl,H as pa,b as Ml,R as t,m as Wl,e as Wa,F as ze,S as Ne,A as nn,L as Se,f as Nt,j as Ha,P as Re,D as Qe,k as fa,n as tt,o as xe,p as Hl,q as We,u as Ol,v as xr,w as Vl,x as rn,y as jl,z as Ul,E as ga,G as ha,J as gt,K as Xl,M as Er,N as wr,O as Gl,Q as ln,U as ya,V as ql,W as Ql,X as aa,Y as Me,Z as Oa,_ as kr,$ as Ze,a0 as $r,a1 as Yl,a2 as Cr,a3 as Nr,a4 as na,a5 as Ea,a6 as _n,a7 as Kl,a8 as Jl,a9 as Zl,aa as ei,ab as ti,ac as ai,ad as ni,ae as Pn,af as ri,ag as li,ah as ii,ai as oi,aj as si,ak as on,al as Sr,am as _r,an as ci,ao as di,ap as mi,aq as Dn,ar as va,as as Pr,at as Ot,au as ui,av as St,aw as Dr,ax as ba,ay as pi,az as fi,aA as gi,aB as hi,aC as yi,aD as vi,aE as Tr,aF as bi,aG as xi,aH as Ei,aI as wi,aJ as ki,aK as $i,aL as Lr,aM as Ar,aN as Br,aO as Ci,aP as Ni,aQ as Si,aR as zr,aS as Va,aT as _i,aU as Pi,aV as Di,aW as Ti,aX as Rr,aY as Ir,aZ as Li,a_ as Ai,a$ as Bi,b0 as zi,b1 as Ri,b2 as Ii}from"./vendor.de0ee777.js";function nm(){import("data:text/javascript,")}const Fi=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}};Fi();const me=e=>`${e}px`,ce=e=>`${e}%`,Fr=e=>`${e}rem`,D=(...e)=>e.join(" "),ye=(e,a)=>`${e}px solid ${a}`,Mi=(e,a)=>`${e}px dashed ${a}`,ge=e=>`${e} !important`,fe=(...e)=>e.map(me).join(" "),pe=fe,Ge=()=>({display:"flex",alignItems:"center",justifyContent:"center"}),p=(e="$gray")=>e.startsWith("$")?`var(--${e.substr(1)}, var(--gray))`:e,qe=e=>e.startsWith("$")?(e=e.substring(1),getComputedStyle(document.body).getPropertyValue(`--${e}`).trim()):e,ht=e=>(e==null?void 0:e.includes("%"))?"100%":e,Mr=24,ja={amber:"#ffc107",azure:"#03a9f4",black:"#000",blue:"#2196f3",brown:"#795548",cyan:"#00bcd4",gray:"#9e9e9e",green:"#8bc34a",indigo:"#3f51b5",lime:"#cddc39",mint:"#4caf50",orange:"#ff9800",pink:"#e91e63",purple:"#9c27b0",red:"#f44336",tangerine:"#ff5722",teal:"#009688",violet:"#673ab7",white:"#fff",yellow:"#ffeb3b"},ra=e=>{e.startsWith("$")&&(e=qe(e)),e.startsWith("#")&&(e=e.slice(1)),e.length===3&&(e=e.split("").map(i=>`${i}${i}`).join(""));const a=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2,2),16),r=parseInt(e.substr(4,2),16);return(a*299+n*587+r*114)/1e3>=128?"black":"white"},la={default:{palette:{card:"#ffffff",page:"#f5f5f5",text:"#323130"},fluentPalette:{black:"#000000",neutralDark:"#201f1e",neutralLight:"#edebe9",neutralLighter:"#f3f2f1",neutralLighterAlt:"#faf9f8",neutralPrimary:"#323130",neutralPrimaryAlt:"#3b3a39",neutralQuaternary:"#d0d0d0",neutralQuaternaryAlt:"#e1dfdd",neutralSecondary:"#605e5c",neutralTertiary:"#a19f9d",neutralTertiaryAlt:"#c8c6c4",themeDark:"#151515",themeDarkAlt:"#252525",themeDarker:"#0b0b0b",themeLight:"#595959",themeLighter:"#737373",themeLighterAlt:"#898989",themePrimary:"#000000",themeSecondary:"#2f2f2f",themeTertiary:"#373737",white:"#ffffff"}},neon:{palette:{card:"#0d0e0f",page:"#1b1d1f",text:"#ffffff"},fluentPalette:{black:"#f8f8f8",neutralDark:"#f4f4f4",neutralLight:"#2c2f32",neutralLighter:"#1f2123",neutralLighterAlt:"#16181a",neutralPrimary:"#fff",neutralPrimaryAlt:"#dadada",neutralQuaternary:"#3c4043",neutralQuaternaryAlt:"#35383b",neutralSecondary:"#d0d0d0",neutralTertiary:"#c8c8c8",neutralTertiaryAlt:"#5b5f63",themeDark:"#d7e464",themeDarkAlt:"#d0df4a",themeDarker:"#e1eb8a",themeLight:"#3d4211",themeLighter:"#202309",themeLighterAlt:"#080902",themePrimary:"#cddc39",themeSecondary:"#b3c132",themeTertiary:"#7a8422",white:"#0d0e0f"}},"h2o-dark":{palette:{card:"#121212",page:"#080808",text:"#ffffff"},fluentPalette:{black:"#f8f8f8",neutralDark:"#f4f4f4",neutralLight:"#343434",neutralLighter:"#252525",neutralLighterAlt:"#1c1c1c",neutralPrimary:"#ffffff",neutralPrimaryAlt:"#dadada",neutralQuaternary:"#454545",neutralQuaternaryAlt:"#3d3d3d",neutralSecondary:"#d0d0d0",neutralTertiary:"#c8c8c8",neutralTertiaryAlt:"#656565",themeDark:"#c2991d",themeDarkAlt:"#e6b522",themeDarker:"#8f7015",themeLight:"#ffefbe",themeLighter:"#fff6dc",themeLighterAlt:"#fffdf6",themePrimary:"#fec925",themeSecondary:"#ffcf40",themeTertiary:"#ffde7d",white:"#121212"}},"one-dark-pro":{palette:{card:"#282C34",page:"#0E0C21",text:"#cacccf"},fluentPalette:{black:"#f9f9f9",neutralDark:"#f3f3f4",neutralLight:"#414651",neutralLighter:"#353a44",neutralLighterAlt:"#2f333c",neutralPrimary:"#cacccf",neutralPrimaryAlt:"#e7e8e9",neutralQuaternary:"#4e545f",neutralQuaternaryAlt:"#484d59",neutralSecondary:"#e1e2e4",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#dcdddf",neutralTertiaryAlt:"#686e7a",themeDark:"#d899ec",themeDarkAlt:"#d288e8",themeDarker:"#e2b3f1",themeLight:"#3d2545",themeLighter:"#211425",themeLighterAlt:"#080509",themePrimary:"#CD7BE5",themeSecondary:"#b46dca",themeTertiary:"#7b4a8a",white:"#282C34"}},monokai:{palette:{card:"#2B2A2D",page:"#232022",text:"#cdcccf"},fluentPalette:{black:"#f9f9f9",neutralDark:"#f3f3f4",neutralLight:"#49484c",neutralLighter:"#3c3b3f",neutralLighterAlt:"#343337",neutralPrimary:"#cdcccf",neutralPrimaryAlt:"#e8e8e9",neutralQuaternary:"#58565b",neutralQuaternaryAlt:"#515054",neutralSecondary:"#e3e3e4",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#dedddf",neutralTertiaryAlt:"#737177",themeDark:"#f787a5",themeDarkAlt:"#f67194",themeDarker:"#f9a6bc",themeLight:"#491d29",themeLighter:"#271016",themeLighterAlt:"#0a0405",themePrimary:"#F56188",themeSecondary:"#d75679",themeTertiary:"#933b52",white:"#2B2A2D"}},nord:{palette:{card:"#2E3441",page:"#3B4251",text:"#C8D1E3"},fluentPalette:{black:"#f8f9fc",neutralDark:"#f2f4f9",neutralLight:"#454c5b",neutralLighter:"#3a414f",neutralLighterAlt:"#343a48",neutralPrimary:"#C8D1E3",neutralPrimaryAlt:"#e5eaf2",neutralQuaternary:"#515969",neutralQuaternaryAlt:"#4c5363",neutralSecondary:"#dfe5ef",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#d9e0ec",neutralTertiaryAlt:"#6a7282",themeDark:"#a2cfdc",themeDarkAlt:"#92c7d6",themeDarker:"#b8dce5",themeLight:"#293a3f",themeLighter:"#161f21",themeLighterAlt:"#050808",themePrimary:"#87C0D0",themeSecondary:"#78aab8",themeTertiary:"#52747d",white:"#2E3441"}},"winter-is-coming":{palette:{card:"#0A2D44",page:"#031629",text:"#D4DEEC"},fluentPalette:{black:"#fafbfd",neutralDark:"#f5f8fb",neutralLight:"#1a4460",neutralLighter:"#123a54",neutralLighterAlt:"#0e344d",neutralPrimary:"#D4DEEC",neutralPrimaryAlt:"#ecf0f7",neutralQuaternary:"#24506d",neutralQuaternaryAlt:"#204a67",neutralSecondary:"#e7edf5",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#e3eaf3",neutralTertiaryAlt:"#3c6886",themeDark:"#63b5e2",themeDarkAlt:"#4aa9dd",themeDarker:"#89c8ea",themeLight:"#113041",themeLighter:"#091a23",themeLighterAlt:"#020609",themePrimary:"#38A0DA",themeSecondary:"#328dbf",themeTertiary:"#226082",white:"#0A2D44"}},fuchasia:{palette:{card:"#381E42",page:"#2C1834",text:"#C7CCD0"},fluentPalette:{black:"#f8f9f9",neutralDark:"#f2f3f4",neutralLight:"#51325e",neutralLighter:"#462852",neutralLighterAlt:"#3f234a",neutralPrimary:"#C7CCD0",neutralPrimaryAlt:"#e6e8ea",neutralQuaternary:"#5e3d6b",neutralQuaternaryAlt:"#583865",neutralSecondary:"#e0e3e5",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#dadee0",neutralTertiaryAlt:"#775584",themeDark:"#e692e0",themeDarkAlt:"#e180db",themeDarker:"#ecade8",themeLight:"#432340",themeLighter:"#231222",themeLighterAlt:"#090509",themePrimary:"#DE73D7",themeSecondary:"#c366bd",themeTertiary:"#854581",white:"#381E42"}},nature:{palette:{card:"#13413F",page:"#0C2521",text:"#CBCECE"},fluentPalette:{black:"#f9f9f9",neutralDark:"#f3f4f4",neutralLight:"#245b59",neutralLighter:"#1c4f4d",neutralLighterAlt:"#174846",neutralPrimary:"#CBCECE",neutralPrimaryAlt:"#e8e9e9",neutralQuaternary:"#2f6966",neutralQuaternaryAlt:"#2a6360",neutralSecondary:"#e3e4e4",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#dddfdf",neutralTertiaryAlt:"#46827f",themeDark:"#56cd95",themeDarkAlt:"#3ec385",themeDarker:"#7ddaaf",themeLight:"#0e3925",themeLighter:"#071e13",themeLighterAlt:"#020805",themePrimary:"#2dbd7a",themeSecondary:"#28a66b",themeTertiary:"#1b7149",white:"#13413F"}},solarized:{palette:{card:"#FDF6E3",page:"#EEE7D5",text:"#002b36"},fluentPalette:{black:"#083e4c",neutralDark:"#165362",neutralLight:"#e8e2d1",neutralLighter:"#f2ebd9",neutralLighterAlt:"#f6efdd",neutralPrimary:"#002b36",neutralPrimaryAlt:"#3f7e8e",neutralQuaternary:"#cec9b9",neutralQuaternaryAlt:"#d8d2c2",neutralSecondary:"#5a96a4",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#7baebb",neutralTertiaryAlt:"#c6c1b2",themeDark:"#1d4d74",themeDarkAlt:"#225b8a",themeDarker:"#153956",themeLight:"#aecae0",themeLighter:"#d2e2ef",themeLighterAlt:"#f3f8fb",themePrimary:"#266599",themeSecondary:"#3874a5",themeTertiary:"#6b9bc2",white:"#FDF6E3"}},oceanic:{palette:{card:"#263238",page:"#1E272C",text:"#ced5d9"},fluentPalette:{black:"#d0dade",neutralDark:"#c1cdd2",neutralLight:"#3e4d55",neutralLighter:"#334148",neutralLighterAlt:"#2d3a41",neutralPrimary:"#B0BEC5",neutralPrimaryAlt:"#9aa6ad",neutralQuaternary:"#4a5b63",neutralQuaternaryAlt:"#44555d",neutralSecondary:"#697176",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#34393b",neutralTertiaryAlt:"#63757e",themeDark:"#52bfb1",themeDarkAlt:"#3ab3a3",themeDarker:"#79d0c4",themeLight:"#0d332e",themeLighter:"#071b19",themeLighterAlt:"#020706",themePrimary:"#2bab9a",themeSecondary:"#269687",themeTertiary:"#1a675c",white:"#263238"}},ember:{palette:{card:"#F4F6F8",page:"#EBEEF2",text:"#1C1E24"},fluentPalette:{black:"#30333c",neutralDark:"#464954",neutralLight:"#dfe1e3",neutralLighter:"#e8eaed",neutralLighterAlt:"#eceef1",neutralPrimary:"#1C1E24",neutralPrimaryAlt:"#747884",neutralQuaternary:"#c6c8ca",neutralQuaternaryAlt:"#cfd1d3",neutralSecondary:"#8d919c",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#a7aab4",neutralTertiaryAlt:"#bec0c2",themeDark:"#972318",themeDarkAlt:"#b3291d",themeDarker:"#6f1a12",themeLight:"#eeb7b2",themeLighter:"#f6d8d5",themeLighterAlt:"#fdf5f4",themePrimary:"#c72e20",themeSecondary:"#ce4236",themeTertiary:"#dd776e",white:"#F4F6F8"}},lighting:{palette:{card:"#F4F6F9",page:"#FFFFFF",text:"#4f5959"},fluentPalette:{black:"#2c3232",neutralDark:"#3c4444",neutralLight:"#e1e3e5",neutralLighter:"#eaecef",neutralLighterAlt:"#eef0f3",neutralPrimary:"#4f5959",neutralPrimaryAlt:"#636d6d",neutralQuaternary:"#c8c9cc",neutralQuaternaryAlt:"#d1d3d6",neutralSecondary:"#919c9c",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#c7cdcd",neutralTertiaryAlt:"#c0c2c4",themeDark:"#1f5495",themeDarkAlt:"#2564b1",themeDarker:"#173e6e",themeLight:"#b5ceed",themeLighter:"#d7e5f6",themeLighterAlt:"#f5f8fd",themePrimary:"#296fc4",themeSecondary:"#3e7ecb",themeTertiary:"#74a3dc",white:"#F4F6F9"}},kiwi:{palette:{text:"#000000",card:"#ffffff",page:"#f4fae8"},fluentPalette:{black:"#0b0b0b",neutralDark:"#151515",neutralLight:"#eaeaea",neutralLighter:"#f4f4f4",neutralLighterAlt:"#f8f8f8",neutralPrimary:"#000000",neutralPrimaryAlt:"#2f2f2f",neutralQuaternary:"#d0d0d0",neutralQuaternaryAlt:"#dadada",neutralSecondary:"#373737",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#595959",neutralTertiaryAlt:"#c8c8c8",themeDark:"#435918",themeDarkAlt:"#506a1d",themeDarker:"#324212",themeLight:"#c6d6a7",themeLighter:"#e0e9ce",themeLighterAlt:"#f7f9f2",themePrimary:"#597520",themeSecondary:"#698630",themeTertiary:"#93ac61",white:"#ffffff"}},benext:{palette:{text:"#555555",card:"#FFFFFF",page:"#E3E6EA"},fluentPalette:{neutralDark:"#404040",neutralLight:"#d1d4d7",neutralLighter:"#dadde1",neutralLighterAlt:"#dde0e4",neutralPrimary:"#555555",neutralPrimaryAlt:"#696969",neutralQuaternary:"#babcbf",neutralQuaternaryAlt:"#c3c5c9",neutralSecondary:"#989898",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#cccccc",neutralTertiaryAlt:"#b2b5b8",themeDark:"#823613",themeDarkAlt:"#9a4017",themeDarker:"#60280e",themeLight:"#e6beab",themeLighter:"#f2dbd1",themeLighterAlt:"#fcf6f3",themePrimary:"#ab481a",themeSecondary:"#b5582e",themeTertiary:"#cd8564",white:"#E3E6EA",black:"#2f2f2f"}}},Wi=e=>{const a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return a?[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]:[0,0,0]},bt=Rl(),Wr=e=>{var i;const a=(i=la[e])!=null?i:la[sn],{palette:n,fluentPalette:r}=a,l=(o,c)=>{document.body.style.setProperty(`--${o}`,c);const[s,d,m]=Wi(c);let f=.05;for(let u=0;u<10;u++)document.body.style.setProperty(`--${o}${u}`,`rgba(${s},${d},${m},${f})`),f+=u===0?.05:.1};if(Object.keys(n).forEach(o=>document.body.style.setProperty(`--${o}`,n[o])),Object.keys(r).forEach(o=>document.body.style.setProperty(`--${o}`,r[o]||null)),n.text&&l("text",n.text),n.card&&l("card",n.card),r.themePrimary){l("primary",r.themePrimary);const o=Xe(r.themePrimary);if(o){const c=Sn(o.h,o.s,o.v);Object.keys(ja).forEach(s=>{const{h:d,s:m,v:f}=Xe(qe(`$${s}`)),u=Sn(d,m,f);document.body.style.setProperty(`--${s}`,`hsl(${u.h}, ${c.s}%, ${u.l}%)`)})}}setTimeout(()=>br({palette:r}),0)},sn="default",cn=k.box(sn),Hr=k.box([]),Hi=la[sn],Oi={horizontal:"row",vertical:"column"},dn={start:"flex-start",end:"flex-end",center:"center",between:"space-between",around:"space-around"},Or={start:"flex-start",end:"flex-end",center:"center",baseline:"baseline",stretch:"stretch"},Vr={start:"flex-start",end:"flex-end",center:"center",between:"space-between",around:"space-around",stretch:"stretch"};k.on(Hr,e=>{e.forEach(a=>{const{text:n,primary:r,card:l,page:i}=a,o=Xe(r),c=Xe(n),s=Xe(l);yt.setSlot(bt[nt[nt.primaryColor]],o,vt(o),!0,!0),yt.setSlot(bt[nt[nt.foregroundColor]],c,vt(c),!0,!0),yt.setSlot(bt[nt[nt.backgroundColor]],s,vt(s),!0,!0),yt.insureSlots(bt,vt(s));const{palette:d}=Il({palette:yt.getThemeAsJson(bt),isInverted:vt(s)});la[a.name]={fluentPalette:d,palette:{text:n,card:l,page:i}}}),Wr(cn())});k.on(cn,Wr);var mt=(e=>(e[e.None=0]="None",e[e.Pick=1]="Pick",e[e.Add=2]="Add",e[e.Edit=3]="Edit",e[e.Delete=4]="Delete",e))(mt||{});const Dt={t:0},jr={t:1},Ce=k.box(Dt),Vi=e=>{Ce({t:3,name:e})},ji=e=>{Ce({t:4,name:e})},ia=[{name:"Sidebar on Left",layout:{name:"hsbf",breakpoint:"xs",min_height:"512px",zones:[{name:"Header"},{name:"Main",direction:"row",zones:[{name:"Sidebar",size:"256px"},{name:"Body"}]},{name:"Footer"}]}},{name:"Sidebar on Right",layout:{name:"hbsf",breakpoint:"xs",min_height:"512px",zones:[{name:"Header"},{name:"Main",direction:"row",zones:[{name:"Body"},{name:"Sidebar",size:"256px"}]},{name:"Footer"}]}},{name:"No Sidebar",layout:{name:"hbf",breakpoint:"xs",min_height:"512px",zones:[{name:"Header"},{name:"Body"},{name:"Footer"}]}},{name:"Body Only",layout:{name:"b",breakpoint:"xs",zones:[{name:"Body"}]}}],mn=ia[0];function F(e){return class extends Ue.exports.Component{constructor(a){super(a);const n=this,r=e(a),l=[];Object.keys(r).forEach(i=>{if(i==="render"||i==="dispose"||i==="init"||i==="update")return;const o=r[i];k.boxed(o)&&l.push(k.on(o,c=>n.setState({})))}),this.model=r,this.arrows=l,this.state={}}componentDidMount(){this.model.init&&this.model.init()}componentDidUpdate(){this.model.update&&this.model.update()}componentWillUnmount(){this.model.dispose&&this.model.dispose();for(const a of this.arrows)a.dispose()}render(){return this.model.render()}}}let Bt=null;const Tt={},Ui=e=>{for(const a in e)delete e[a]};var vr;const It=(vr=document.getElementsByTagName("body")[0].getAttribute("data-base-url"))!=null?vr:"/",Xi=It+"_s/",Gi=It+"_f/",qi=It+"_auth/init",Qi=It+"_auth/login",oa=k.box(null),Ur=k.box({}),sa=k.box(!1),ca={username:"",editable:!1},Xr=(e,a)=>{if(a.startsWith("#")){window.location.hash=a.substr(1);return}e?y.args[e]=a:y.args[a]=!0,y.push()},et=(e,a)=>{let n=null;return(...r)=>{n&&window.clearTimeout(n),n=window.setTimeout(()=>{a(...r),n=null},e)}},Yi=(e,a)=>{let n=!1;return(...r)=>{n||(a(...r),n=!0,window.setTimeout(()=>{n=!1},e))}},Ki=e=>{Bt=k.connect(e,a=>{switch(a.t){case k.WaveEventType.Page:case k.WaveEventType.Error:case k.WaveEventType.Exception:case k.WaveEventType.Disconnect:oa(a);break;case k.WaveEventType.Reset:window.location.reload();break;case k.WaveEventType.Config:ca.username=a.username,ca.editable=a.editable;break;case k.WaveEventType.Data:sa(!1);break}})},Tn=()=>{if(!Bt)return;const e=window.location.hash;(e==null?void 0:e.length)>1&&(Tt["#"]=e.substr(1));const a=B({},Tt);Ui(Tt),Bt.push(a),sa(!0),Ur(a)},y={baseURL:It,socketURL:Xi,uploadURL:Gi,initURL:qi,loginURL:Qi,args:Tt,debounce:et,throttle:Yi,push:Tn,fork:()=>{if(!Bt)throw new Error("not initialized");return Bt.fork()},emit:(e,a,n)=>{const r={},l={};r[a]=n,l[e]=r,Tt[""]=l,Tn()}};window.wave=y;const wa=L({menu:{position:"absolute",top:0,right:0,$nest:{">div:first-child":{padding:24,fontSize:16,color:p("$text7")}}},icon:{userSelect:"none",marginRight:-6},target:{boxSizing:"border-box",cursor:"pointer",opacity:.5,$nest:{"&:hover":{opacity:1}}}}),Gr="__edit__",qr="__delete__",Qr=e=>{const a=()=>{var n,r;if(e.name===Gr){e.value&&Vi(e.value);return}if(e.name===qr){e.value&&ji(e.value);return}if(e.name.startsWith("#")){window.location.hash=e.name.substr(1);return}y.args[e.name]=(r=(n=e.value)!=null?n:e.data)!=null?r:!0,y.push()};return{key:e.name,text:e.label||e.name||"Untitled",iconProps:e.icon?{iconName:e.icon}:void 0,title:e.caption||void 0,subMenuProps:e.items?{items:e.items.map(Qr)}:void 0,onClick:a}},un=F(({commands:e,name:a,changedB:n,canEdit:r})=>{const l=Ue.exports.createRef(),i=k.box(!0),o=()=>i(!1),c=()=>i(!0);return{render:()=>{const d=e!=null?e:[];r&&d.push({name:Gr,label:"Edit this card",icon:"Edit",value:a},{name:qr,label:"Delete this card",icon:"Delete",value:a});const m=i(),f=d.map(Qr);return f.length?Ue.exports.createElement("div",{className:D(wa.menu,"w-card-menu"),"data-test":a},Ue.exports.createElement("div",{className:wa.target,ref:l,onClick:o},Ue.exports.createElement(Be,{className:wa.icon,iconName:"MoreVertical"})),Ue.exports.createElement(an,{target:l,items:f,hidden:m,onItemClick:c,onDismiss:c})):Ue.exports.createElement(Ue.exports.Fragment,null)},changedB:n,hiddenB:i}}),Ji=Ml(),ka=Fl({locale:navigator.language,messages:{},onError:()=>{}},Ji),Zi=e=>e.replace(/(_\w)/g,a=>a[1].toUpperCase()),eo=e=>{const a={};for(const n in e){const r=e[n];a[Zi(n)]=r==="true"?!0:r==="false"?!1:/^\d+$/.test(r)?parseInt(r,10):r}return a},Yr=e=>/^\w+$/.test(e);pa.registerHelper("intl",(e,{hash:a})=>{a=eo(a);const n=a.type;return n==="date"?ka.formatDate(e,a):n==="time"?ka.formatTime(e,a):n==="number"||typeof e=="number"?ka.formatNumber(e,a):e});const Kr=e=>typeof e=="string"&&e.length>1&&e.charAt(0)==="="&&e.charAt(1)!=="=",to=e=>{if(!Kr(e))return null;if(e=e.substr(1),Yr(e))return[e,void 0];const a=e.match(/\{\{\s*(\w+)\s+(\S+)/);if(a)return[a[2],Jr(e)];const n=e.match(/\{\{\s*(\S+)/);return n?[n[1],void 0]:null},Jr=e=>pa.compile(e),ao=(e,a)=>{Yr(e)&&(e="{{"+e+"}}");const n=Jr(e);return n?n(a):e};var Ye=(e=>(e.Transparent="transparent",e.Normal="normal",e.Raised="raised",e.Flat="flat",e))(Ye||{});const no={effect:"normal"},ro=()=>{const e={};return{register:(r,l,i=no)=>e[r]={ctor:l,style:i},lookup:r=>e[r]||e[""]}},V=ro(),da=(e,a,n=null)=>e!=null?Kr(e)?ao(e.substr(1),a):e:n!=null?n:null,Z=({data:e,defaultValue:a,format:n,className:r})=>{const l=da(n,e,a);return l==null?null:r?t.createElement("div",{className:r},l):t.createElement(t.Fragment,null,l)},Ft=({card:e})=>{const a=V.lookup(e.state.view).ctor;return t.createElement(a,B({},e))},pn=({view:e,props:a,data:n})=>{const r=k.unpack(n).map((l,i)=>{const o={name:k.xid(),state:ne(B({},k.unpack(a)),{view:e,data:l}),changed:k.box()};return t.createElement(Ft,{key:i,card:o})});return t.createElement(t.Fragment,null,r)},Ua={left:0,top:0,width:0,height:0},lo=(e,a,n,r,l)=>{let i=1;const o=e-2*l,c=a-2*l,s=e*n+l*(n+1),d=a*r+l*(r+1),m=s-2*l,f=d-2*l,u=(h,$,R,N)=>{const v={left:h*(e+l),top:$*(a+l)};return R>0?v.width=R*e+(R-1)*l:v.right=-(R+1)*(e+l),N>0?v.height=N*a+(N-1)*l:v.bottom=-(N+1)*(a+l),v},g=h=>{const $=h.trim().split(/\s+/g);switch($.length){case 1:return["1","1",h,h];case 2:return["1","1",...$];case 3:return[...$,$[2]];case 4:return $;default:return $.slice(0,4)}},x=h=>{if(!h)return Ua;const[$,R,N,v]=g(h).map(k.parseI);return isNaN($)||isNaN(R)||isNaN(N)||isNaN(v)?Ua:u($-1,R-1,N,v)},w=()=>[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight];return{width:s,height:d,innerWidth:m,innerHeight:f,unitWidth:e,unitHeight:a,unitInnerWidth:o,unitInnerHeight:c,gap:l,place:x,scale:i,rescale:()=>{const[h,$]=w();return i=Math.min(h/s,$/d),i},inset:{position:"absolute",left:l,top:l,right:l,bottom:l,overflow:"auto"}}},re=lo(134,76,12,10,15),ma=L({grid:{position:"relative",boxSizing:"border-box",width:re.innerWidth,margin:pe(re.gap)},slot:{boxSizing:"border-box",transition:"box-shadow 0.3s cubic-bezier(.25,.8,.25,1)",display:"flex",flexDirection:"column",margin:pe(7),overflow:"auto",$nest:{">*":{boxSizing:"border-box",flexGrow:1}}},normal:{backgroundColor:p("$card"),boxShadow:`0px 3px 5px ${p("$text0")}`,$nest:{"&:hover":{boxShadow:`0px 12px 20px ${p("$text2")}`}}},flat:{backgroundColor:p("$card"),boxShadow:`0px 3px 5px ${p("$text0")}`},raised:{margin:0,background:p("$themePrimary"),color:p("$card"),boxShadow:`0px 3px 7px ${p("$text3")}`,$nest:{".ms-Link":{color:p("$card")},".ms-Persona":{$nest:{"&-primaryText":{color:p("$card")},"&-secondaryText":{color:p("$card")},"&-tertiaryText":{color:p("$card")}}},".ms-Button":{$nest:{"&-menuIcon":{color:p("$card")}}},".ms-Nav":{$nest:{"&-chevronButton":{color:p("$card")},"&-link":{color:p("$card")},"&-link .ms-Icon":{color:p("$card")},".is-selected .ms-Nav-link":{background:p("$themeDark")},".is-selected .ms-Nav-link:after":{borderColor:p("$card")},"&-compositeLink:hover .ms-Nav-link":{background:p("$text1")},"&-compositeLink:hover.is-disabled .ms-Nav-link":{background:"transparent"}}},".w-menu":{color:ge(p("$card")),$nest:{"& .ms-Button-icon":{color:ge(p("$card"))}}},".w-tabs":{$nest:{".ms-Pivot-link":{backgroundColor:p("$themePrimary"),color:p("$card")},".ms-Pivot-link.is-selected":{backgroundColor:p("$card"),color:p("$text")}}},".w-tabs-link":{$nest:{".ms-Pivot-link":{color:p("$card")},".ms-Pivot-link:hover .ms-Pivot-linkContent":{color:p("$text")},".ms-Pivot-link.is-selected:before":{backgroundColor:p("$card")}}},".ms-Checkbox":{$nest:{"&-text":{color:ge(p("$card"))},"&-checkbox":{borderColor:ge(p("$card"))},"&-checkmark":{color:p("$themePrimary")},"&-label:hover .ms-Checkbox-checkmark":{color:p("$card")},"&.is-checked .ms-Checkbox-checkbox":{background:ge(p("$card"))},"&.is-checked .ms-Checkbox-label:hover .ms-Checkbox-checkmark":{color:p("$themePrimary")}}},".ms-Toggle":{$nest:{"&-label":{color:p("$card")},"&-stateText":{color:p("$card")},"&-background":{borderColor:p("$card"),background:p("$themePrimary")},"&-thumb":{background:ge(p("$card"))},"&.is-checked .ms-Toggle-background":{background:p("$card")},"&.is-checked .ms-Toggle-thumb":{background:ge(p("$text"))}}},".ms-TextField-fieldGroup":{$nest:{i:{color:p("$text")}}},"& + div.w-card-menu i":{color:p("$card")},".ms-Label":{color:p("$card")}}},transparent:{backgroundColor:"transparent"},marginless:{margin:0}}),Zr=e=>{const{effect:a,marginless:n}=io(e);return D(ma.slot,fn(a),n?ma.marginless:"")},el=e=>{switch(e){case"card":return"normal";case"transparent":return"transparent";case"primary":return"raised";default:return"raised"}},fn=e=>ma[e],io=e=>V.lookup(e.state.view).style,oo=({name:e,cards:a})=>{const n=!!a.find(l=>l.state.view==="editor"),r=a.map(l=>{const i=re.place(l.state.box),{left:o,top:c,right:s,bottom:d,width:m,height:f}=i,u=i===Ua?l.state.view==="editor"?void 0:"none":void 0,g=l.name==="__unhandled_error__"?1:"initial";return t.createElement("div",{key:l.id,className:Zr(l),style:{display:u,position:"absolute",left:o,top:c,right:s,bottom:d,width:m,height:f,zIndex:g,margin:0}},t.createElement(Ft,{card:l}),t.createElement(un,{name:l.name,commands:l.state.commands,changedB:l.changed,canEdit:n}))});return t.createElement("div",{"data-test":e,className:ma.grid},r)},Xa=L({card:{display:"flex",flexDirection:"column",padding:re.gap},body:{flexGrow:1},markdown:{$nest:{">*:only-child":{margin:0},a:{color:p("$themePrimary"),$nest:{"&:hover":{textDecoration:"none"}}},table:{width:ce(100),borderCollapse:"collapse"},tr:{borderBottom:ye(1,p("$text5"))},th:{padding:fe(11,6),textAlign:"left"},td:{padding:fe(11,6)},img:{maxWidth:"100%",maxHeight:"100%"}}}}),gn=Wl({html:!0,linkify:!0,typographer:!0}),_e=({source:e})=>t.createElement("div",{className:D(Xa.markdown,"wave-markdown"),dangerouslySetInnerHTML:{__html:gn.render(e)}}),so=gn.renderer.rules.text;gn.renderer.rules.text=(e,a,n,r,l)=>{const i=e[a+1],o=i==null?void 0:i.attrGet("href");return(o==null?void 0:o.startsWith("?"))&&i.attrPush(["onclick",`window.dispatchEvent(new CustomEvent("md-link-click", {detail:"${o.substring(1)}" }));return false`]),so(e,a,n,r,l)};const co=F(({name:e,state:a,changed:n})=>({render:()=>{const l=k.unpack(a.data),i=da(a.title,l);return t.createElement("div",{"data-test":e,className:Xa.card},i&&t.createElement("div",{className:"wave-s12 wave-w6"},i),t.createElement("div",{className:Xa.body},t.createElement(_e,{source:da(a.content,l)})))},changed:n}));V.register("markdown",co);const Vt=L({container:{display:"flex",alignItems:"flex-start",alignContent:"flex-start"},expand:{flexGrow:1},icon:{color:p("$text"),fontWeight:400,fontSize:"14px",userSelect:"none",textAlign:"left",marginLeft:"0.5em",cursor:"pointer"},preventOverflow:{minWidth:0}}),ae=({children:e,content:a,showIcon:n=!0,expand:r=!0})=>{if(!a)return t.createElement(t.Fragment,null,e);const l={onRenderContent:()=>t.createElement("div",null,t.createElement(_e,{source:a}))};return t.createElement("div",{className:Vt.container,"data-test":"tooltip"},n?t.createElement(t.Fragment,null,t.createElement("div",{className:D(Vt.preventOverflow,r?Vt.expand:"")},e),t.createElement(Wa,{tooltipProps:l},t.createElement(ze,{className:Vt.icon,iconName:"Info"}))):t.createElement(Wa,{tooltipProps:l},e))},tl=L({buttons:{boxSizing:"border-box",overflowX:"auto"}}),mo={start:"start",end:"end",center:"center",between:"space-between",around:"space-around"},al=({model:{name:e,visible:a=!0,link:n,label:r,disabled:l,icon:i,caption:o,value:c,primary:s,width:d}})=>{const m=g=>{if(g.stopPropagation(),e.startsWith("#")){window.location.hash=e.substr(1);return}y.args[e]=c===void 0||c,y.push()},f={root:{display:a?void 0:"none",width:ht(d),minWidth:d?"initial":void 0},icon:{fontSize:20}};if(t.useEffect(()=>{y.args[e]=!1},[]),n)return t.createElement(Se,{"data-test":e,disabled:l,onClick:m,styles:f},r);const u={text:r,disabled:l,onClick:m,styles:f,iconProps:{iconName:i}};return!r&&i?t.createElement(Nt,ne(B({},u),{"data-test":e,title:o})):(o==null?void 0:o.length)?s?t.createElement(Ha,ne(B({},u),{"data-test":e,primary:!0,secondaryText:o})):t.createElement(Ha,ne(B({},u),{"data-test":e,secondaryText:o})):s?t.createElement(Re,ne(B({},u),{"data-test":e})):t.createElement(Qe,ne(B({},u),{"data-test":e}))},uo=({model:e})=>{const{name:a,items:n,justify:r,width:l}=e,i=n.map(o=>o.button).filter(Boolean).map(o=>t.createElement(ae,{key:o.name,content:o.tooltip,showIcon:!1,expand:!1},t.createElement(al,{model:o})));return t.createElement("div",{"data-test":a,className:tl.buttons,style:{width:l}},t.createElement(Ne,{horizontal:!0,horizontalAlign:mo[r||""],tokens:{childrenGap:10}},i))},po=({model:e})=>t.createElement("div",{className:tl.buttons},t.createElement(al,{key:e.name,model:e})),fo=({model:e})=>t.createElement(Ne,{horizontal:!0,verticalAlign:"center",styles:{root:{height:24}}},e.items.map(({mini_button:a})=>a?t.createElement(nl,{key:a.name,model:a}):null)),nl=({model:e})=>{const{name:a,label:n,icon:r}=e,l=()=>{if(a.startsWith("#")){window.location.hash=a.substr(1);return}y.args[a]=!0,y.push()};return t.createElement(nn,{"data-test":a,styles:{label:{color:p("$neutralTertiary")},labelHovered:{color:"inherit"},icon:{color:p("$neutralTertiary")},root:{padding:fe(0,1)}},text:n,iconProps:{iconName:r},onClick:l})},go=({model:e})=>{const a=(n,r)=>{y.args[e.name]=r===null?null:!!r,e.trigger&&y.push()};return t.useEffect(()=>{y.args[e.name]=!!e.value},[]),t.createElement(fa,{"data-test":e.name,inputProps:{"data-test":e.name},styles:{checkmark:{display:"flex"}},label:e.label,defaultIndeterminate:e.indeterminate,defaultChecked:e.value,onChange:a,disabled:e.disabled})},$a=L({toolbar:{margin:pe(5,0)},items:{$nest:{"> *":{margin:"10px 0"}}},inline:{display:"flex",flexWrap:"wrap",$nest:{".checklist-item":{marginRight:15}}}}),ho=({model:e})=>{const a=t.useMemo(()=>new Set(e.values),[e.values]),n=t.useCallback(()=>{var f;return((f=e.choices)==null?void 0:f.map(u=>({c:u,selected:a.has(u.name)})))||[]},[a,e.choices]),[r,l]=t.useState(n()),i=f=>{y.args[e.name]=f.filter(({selected:u})=>u).map(({c:u})=>u.name),e.trigger&&y.push()},o=f=>{const u=r.map(({c:g,selected:x})=>({c:g,selected:g.disabled?x:f}));l(u),i(u)},c=()=>o(!0),s=()=>o(!1),d=f=>(u,g=!1)=>{const x=[...r];x[f].selected=g,l(x),i(x)},m=r.map(({c:f,selected:u},g)=>t.createElement(fa,{key:g,"data-test":`checkbox-${g+1}`,className:"checklist-item",label:f.label||f.name,checked:u,onChange:d(g),disabled:!!f.disabled,styles:{root:{marginBottom:4},checkmark:{display:"flex"}}}));return t.useEffect(()=>{y.args[e.name]=e.values||[]},[]),t.useEffect(()=>{l(n())},[n,e.choices]),t.createElement("div",{"data-test":e.name},t.createElement(tt,null,e.label),t.createElement("div",{className:$a.toolbar},t.createElement(xe,{variant:"small"},t.createElement(Se,{onClick:c},"Select All")," | ",t.createElement(Se,{onClick:s},"Deselect All"))),t.createElement("div",{className:D($a.items,e.inline?$a.inline:"")},m))},yo=({model:e})=>{const a={choiceFieldWrapper:{marginRight:15}},n=(e.choices||[]).map(({name:l,label:i,disabled:o})=>({key:l,text:i||l,disabled:o,styles:a})),r=(l,i)=>{i&&(y.args[e.name]=i.key),e.trigger&&y.push()};return t.useEffect(()=>{y.args[e.name]=e.value||null},[]),t.createElement(Hl,{styles:{flexContainer:{display:"flex",flexWrap:"wrap"}},"data-test":e.name,label:e.label,required:e.required,defaultSelectedKey:e.value,options:n,onChange:r})},xt=L({multiContainer:{position:"relative",$nest:{"&:hover > button":{opacity:1}}},compactContainer:{position:"relative"},btnMultiline:{opacity:0,transition:"opacity .5s"},btn:{minWidth:"initial",position:"absolute",top:31,right:4,width:24,height:24},copiedBtn:{background:p("$green"),$nest:{"&:hover":{background:p("$green")}}}}),vo=({model:e})=>{const{name:a,multiline:n,label:r,value:l}=e,i=t.useRef(null),o=t.useRef(),[c,s]=t.useState(!1),d=async()=>{var f;const m=i.current;if(!!m){try{document.queryCommandSupported("copy")&&(m.select(),document.execCommand("copy"),(f=window.getSelection())==null||f.removeAllRanges())}catch{await window.navigator.clipboard.writeText(l)}s(!0),o.current=window.setTimeout(()=>s(!1),2e3)}};return t.useEffect(()=>()=>window.clearTimeout(o.current),[]),t.createElement("div",{"data-test":a,className:n?xt.multiContainer:xt.compactContainer},t.createElement(We,{componentRef:i,defaultValue:l,label:r,multiline:n,styles:{root:{width:ce(100)}},readOnly:!0}),t.createElement(Re,{title:"Copy to clipboard",onClick:d,iconProps:{iconName:c?"CheckMark":"Copy"},className:D(xt.btn,c?xt.copiedBtn:"",n?xt.btnMultiline:"")}))},jt=L({inlinePickerContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",maxWidth:250},preview:{width:20,height:20,margin:pe(0,15),border:ye(1,p("$text"))},rhs:{display:"flex",alignItems:"center"}}),bo=e=>e.map(a=>({id:a,label:a,color:a})),xo=({model:e,onChange:a})=>{const[n,r]=t.useState(!1),l=e.value||"#000",[i,o]=t.useState(Xe(l)),[c,s]=t.useState(l),d=()=>r(!n),m=(u,g="")=>{if(s(g),!(g==null?void 0:g.match(/^#([0-9a-f]{3}){1,2}$/i)))return;const x=Xe(g);o(x),a(null,x)},f=(u,g)=>{o(g),s(g.str),a(null,g)};return t.createElement("div",{className:jt.inlinePickerContainer},t.createElement(tt,null,e.label),t.createElement("div",{className:jt.rhs},t.createElement("div",{className:jt.preview,style:{background:i==null?void 0:i.str},onClick:d}),n&&t.createElement(Vl,{directionalHint:rn.rightBottomEdge,target:`.${jt.preview}`,onDismiss:d,gapSpace:10},t.createElement(xr,{alphaType:e.alpha?"alpha":"none",color:i,onChange:f})),t.createElement(We,{value:c,onChange:m})))},Eo=({model:e})=>{const{width:a,value:n,name:r,trigger:l,label:i,choices:o,alpha:c,inline:s}=e,d=n||null,[m,f]=t.useState(d),u=(P,b,h=d)=>{y.args[r]=h,f(h),l&&y.push()},g=(P,{str:b})=>{y.args[r]=b||d,l&&y.push()},x=ht(a),w=(x==null?void 0:x.includes("%"))?"initial":`calc(${x} - 35px)`;return t.useEffect(()=>{y.args[r]=d},[]),t.createElement("div",{"data-test":r},s?t.createElement(xo,{model:e,onChange:g}):t.createElement(t.Fragment,null,t.createElement(tt,null,i),(o==null?void 0:o.length)?t.createElement(Ol,{columnCount:10,selectedId:m||o[0],colorCells:bo(o),onChange:u}):t.createElement(xr,{alphaType:c?"alpha":"none",color:d||"#000",onChange:g,styles:{root:{width:x,maxWidth:x},colorRectangle:{minWidth:w,maxWidth:w}}})))},wo=({model:e})=>{const[a,n]=t.useState(e.value),r=(e.choices||[]).map((i,o)=>({key:`${o}`,text:i})),l=(i,o,c,s)=>{const d=(o==null?void 0:o.text)||s||"";y.args[e.name]=d,n(d),e.trigger&&y.push()};return t.useEffect(()=>{y.args[e.name]=e.value||null},[]),t.createElement(jl,{"data-test":e.name,label:e.label,placeholder:e.placeholder,options:r,disabled:e.disabled,autoComplete:"on",allowFreeform:!0,errorMessage:e.error,text:a,onChange:l})},Ln=e=>{const a=`${e}`;return a.length===1?`0${a}`:a},ko=e=>`${e.getFullYear()}-${Ln(e.getMonth()+1)}-${Ln(e.getDate())}`,Ca=e=>{if(!e)return;const a=e.split("-");if(a.length!==3)return;const n=a.map(r=>parseInt(r,10)).filter(r=>!isNaN(r));if(n.length===3)return new Date(n[0],n[1]-1,n[2])},$o=({model:e})=>{const a=e.value||null,n=a?Ca(a):null,[r,l]=t.useState(n?new Date(n):void 0),i=o=>{const c=o==null?a:ko(o);y.args[e.name]=c,l(c?new Date(`${c}T00:00:00`):void 0),e.trigger&&y.push()};return t.useEffect(()=>{y.args[e.name]=a},[]),t.createElement(Ul,{"data-test":e.name,styles:{icon:{bottom:2},readOnlyTextField:{paddingRight:ge("32px")},statusMessage:{marginTop:0}},label:e.label,value:r,placeholder:e.placeholder,disabled:e.disabled,onSelectDate:i,minDate:Ca(e.min||null),maxDate:Ca(e.max||null)})};function Co(e,a){e=e.toLowerCase(),a=a.toLowerCase();const n=e.length,r=a.length;if(r>n)return!1;if(r===n)return a===e;e:for(let l=0,i=0;l<r;l++){const o=a.charCodeAt(l);for(;i<n;)if(e.charCodeAt(i++)===o)continue e;return!1}return!0}const An=L({dialogCheckedRow:{background:p("$neutralLight")},dialogControls:{display:"flex",justifyContent:"space-between",marginTop:16}}),Bn=({name:e,label:a,required:n,disabled:r,value:l,values:i,choices:o,trigger:c,placeholder:s})=>{const d=!!i,m=t.useMemo(()=>d?new Set(i):null,[d,i]),[f,u]=t.useState(Array.from(m||[])),g=(o||[]).map(({name:b,label:h,disabled:$})=>({key:b,text:h||b,disabled:$})),x=(b,h)=>{if(h){const $=h.key;if(d&&m!==null){h.selected?m.add($):m.delete($);const R=Array.from(m);y.args[e]=R,u(R)}else y.args[e]=$}c&&y.push()},w=()=>{if(!m)return;m.clear(),g.forEach(h=>{h.disabled||m.add(h.key)});const b=Array.from(m);u(b),y.args[e]=b,x()},P=()=>{!m||(m.clear(),u([]),y.args[e]=[],x())};return t.createElement(t.Fragment,null,t.createElement(ga,{"data-test":e,label:a,placeholder:s,options:g,required:n,disabled:r,multiSelect:d||void 0,defaultSelectedKey:d?void 0:l,selectedKeys:d?f:void 0,onChange:x}),d&&t.createElement("div",null,t.createElement(xe,{variant:"small"},t.createElement(Se,{onClick:w},"Select All")," | ",t.createElement(Se,{onClick:P},"Deselect All"))))},zn=44,Rn=40,In=({name:e,choices:a,values:n,value:r,disabled:l,required:i,trigger:o,placeholder:c,label:s})=>{const d=!!n,[m,f]=t.useState(!0),u=t.useMemo(()=>(n==null?void 0:n.length)?new Map(n.map(z=>[z,!0])):r?new Map([[r,!0]]):new Map,[r,n]),g=t.useMemo(()=>(a==null?void 0:a.map(({name:z,label:X},G)=>({name:z,text:X||z,idx:G,checked:u.has(z)})))||[],[u,a]),[x,w]=t.useState(g),[P,b]=t.useState(()=>{if(!(n==null?void 0:n.length)&&!r)return;const z=new Map(g.map(({name:X,text:G})=>[X,G]));if(n==null?void 0:n.length)return n.map(X=>z.get(X)||"").filter(Boolean).join(", ");if(r)return z.get(r)}),h=t.useCallback(()=>f(!m),[m]),$=t.useCallback(()=>{h(),w(g.map(z=>(z.checked=u.has(z.name),z)))},[u,g,h]),R=t.useCallback(z=>{const X=z?[z]:g.filter(({checked:G})=>G);y.args[e]=X.length===1?X[0].name:X.map(({name:G})=>G),o&&y.push(),b(X.length?X.map(({text:G})=>G).join(", "):"Select ..."),u.clear(),X.forEach(({name:G})=>u.set(G,!0)),$()},[$,u,g,e,o]),N=(z=!0)=>()=>w(x.map(X=>(X.checked=z,X))),v=(z,X="")=>w(X?g.filter(({text:G})=>Co(G,X)):g),E=t.useCallback(z=>(X,G=!1)=>{g[z].checked=G,d?w(x.map(K=>(g[z].name===K.name&&(K.checked=G),K))):R(g[z])},[x,d,g,R]),T=t.useCallback(z=>z?t.createElement(fa,{label:z.text,styles:{root:{minHeight:zn,alignItems:"center"},label:{width:ce(100),padding:12,wordBreak:"break-word"},checkmark:{display:"flex"}},onChange:E(z.idx),className:z.checked?An.dialogCheckedRow:"",checked:z.checked}):null,[E]),M=t.useCallback(()=>({itemCount:Rn,height:zn*Rn}),[]);return t.createElement(t.Fragment,null,t.createElement(We,{"data-test":e,iconProps:{iconName:"ChevronDown"},readOnly:!0,onClick:h,label:s,disabled:l,required:i,styles:{field:{cursor:"pointer"},icon:{fontSize:12,color:p("$neutralSecondary")}},value:P||""}),t.createElement(ha,{hidden:m,dialogContentProps:{title:s,type:gt.close},onDismiss:$,minWidth:600,maxWidth:"90vw"},t.createElement(Xl,{styles:{innerContent:{height:"65vh"},header:{height:0}}},t.createElement(tt,null,"Search"),t.createElement(Er,{"data-test":`${e}-search`,onChange:v,placeholder:c,autoFocus:!0}),d&&t.createElement("div",{className:D("wave-s14",An.dialogControls)},t.createElement("span",{className:"wave-w5"},"Selected: ",g.filter(({checked:z})=>z).length),t.createElement("div",null,t.createElement(Se,{onClick:N()},"Select All")," | ",t.createElement(Se,{onClick:N(!1)},"Deselect All"))),t.createElement(wr,{styles:{root:{marginTop:100,boxShadow:`0px 3px 7px ${p("$text3")}`}}},t.createElement(Gl,{items:x,getPageSpecification:M,renderedWindowsAhead:3,onRenderCell:T}))),d&&t.createElement(ln,null,t.createElement(Qe,{text:"Cancel",onClick:$}),t.createElement(Re,{text:"Select",onClick:()=>R()}))))},No=({model:e})=>{var a;return t.useEffect(()=>{y.args[e.name]=e.values?e.values||[]:e.value||null},[]),e.popup==="always"?t.createElement(In,B({},e)):e.popup==="never"?t.createElement(Bn,B({},e)):(((a=e.choices)==null?void 0:a.length)||0)>100?t.createElement(In,B({},e)):t.createElement(Bn,B({},e))},Fn=L({expanderOpen:{$nest:{">div:last-child":{display:"block"}}},expanderClosed:{$nest:{">div:last-child":{display:"none"}}}}),So=({model:e})=>{const[a,n]=t.useState(e.expanded),r=t.useCallback(()=>{y.args[e.name]=!a,n(!a)},[a,e.name]);return t.useEffect(()=>{e.expanded!==void 0&&(y.args[e.name]=!!e.expanded,n(e.expanded))},[e]),t.createElement("div",{"data-test":e.name,className:a?Fn.expanderOpen:Fn.expanderClosed,"data-visible":a?"visible":"hidden"},t.createElement(ya,{alignContent:"start",styles:{content:{paddingLeft:0}}},t.createElement(nn,{title:a?"Shrink":"Expand",iconProps:{iconName:a?"ChevronDownMed":"ChevronRightMed"},onClick:r,styles:{root:{paddingLeft:0},icon:{marginLeft:0}}},e.label)),t.createElement(ve,{items:e.items||[]}))},_o=({model:e})=>{const{name:a,max:n,items:r,value:l}=e,i=()=>{if(a){if(a.startsWith("#")){window.location.hash=a.substr(1);return}y.args[a]=l===void 0||l,y.push()}},o=(c,{persona:s})=>{if(s){const{title:d,image:m,initials:f}=s;c.push({personaName:d,imageUrl:m,imageInitials:f})}return c};return t.createElement("div",{"data-test":a},t.createElement(ql,{styles:{addButton:{".ms-Persona-initials":{background:p("$themePrimary"),color:p("$card")}},descriptiveOverflowButton:{".ms-Persona-initials":{background:p("$neutralLighter")},".ms-Persona-initials>span":{color:p("$text")}}},personas:r.reduce(o,[]),maxDisplayablePersonas:n,showAddButton:!!a,addButtonProps:{onClick:i},overflowButtonProps:{},overflowButtonType:Ql.descriptive}))},$e=L({uploadInput:{opacity:0},upload:ne(B({},Ge()),{flexDirection:"column",boxSizing:"border-box"}),uploadDragging:{border:Mi(2,p("$themePrimary"))},uploadLabel:ne(B({},Ge()),{padding:fe(7,10),fontSize:14,fontWeight:600,borderRadius:2,background:p("$themePrimary"),color:p("$page"),minWidth:80,boxSizing:"border-box",height:32,$nest:{"&:hover":{cursor:"pointer"}}}),uploadLabelCompact:{position:"absolute",top:2,right:2,height:28},uploadMessageBar:{margin:"20px 0"},uploadRemove:{fontSize:20,position:"absolute",top:-15,right:0,cursor:"pointer"},compact:{position:"relative"}}),Mn=e=>e*1024*1024,Po=({model:e})=>{const{name:a,label:n,file_extensions:r,max_file_size:l,compact:i,height:o,max_size:c,multiple:s}=e,[d,m]=t.useState(!1),[f,u]=t.useState([]),[g,x]=t.useState(""),[w,P]=t.useState(0),[b,h]=t.useState(""),[$,R]=t.useState(""),N=l?Mn(l):0,v=c?Mn(c):0,E=r?r.map(q=>q.startsWith(".")?q:`.${q}`):null,T=async(q=f)=>{const te=new FormData;q.forEach(J=>te.append("files",J));try{const{responseText:J}=await new Promise((se,Pe)=>{const S=new XMLHttpRequest;S.open("POST",y.uploadURL),S.upload.onprogress=A=>P(A.loaded/A.total),S.send(te),S.onreadystatechange=()=>{S.readyState===XMLHttpRequest.DONE&&(S.status>=200&&S.status<300?se(S):Pe(S))}}),{files:Q}=JSON.parse(J);y.args[a]=Q,i||y.push(),R(`Successfully uploaded files: ${Q.map(({name:se})=>se).join(",")}.`)}catch({responseText:J}){h(J||"There was an error when uploading file.")}finally{u([])}},M=q=>!E||E.some(te=>q.toLowerCase().endsWith(te.toLowerCase())),z=q=>{if(!s&&q.length>1)return"Cannot upload multiple files. Input is not set to multiple mode.";const te=q.filter(({name:J})=>!M(J));if(te.length)return`Not allowed extension for files: ${te.map(({name:J})=>J).join(", ")}.
          Allowed file extensions: ${E==null?void 0:E.join(", ")}.`;if(N){const J=q.filter(({size:Q})=>Q>N);if(J.length)return`Max file size exceeded for files: ${J.map(({name:Q})=>Q).join(", ")}.
            Allowed size per file: ${l}Mb.`}if(v&&q.reduce((Q,{size:se})=>Q+se,0)>v)return`Total max file size exceeded. Allowed size: ${c}Mb.`},X=async q=>{const te=q.target.files;if(!(te==null?void 0:te.length))return;const J=Array.from(te),Q=z(J);Q?h(Q):(u(J),i&&(await T(J),P(0)),x(J.map(({name:se})=>se).join(", ")))},G=q=>{q.preventDefault(),q.stopPropagation(),m(!0)},K=q=>{q.preventDefault(),q.stopPropagation(),m(!1)},oe=q=>{K(q);const te=q.dataTransfer.files;if(!te.length||b||$)return;const J=Array.from(te),Q=z(J);if(Q){h(Q);return}u(J)},C=q=>{q.preventDefault(),q.stopPropagation()},W=()=>h(""),H=()=>{R(""),P(0)},Y=q=>()=>{f.splice(q,1),u([...f])},ie=()=>b?t.createElement(t.Fragment,null,t.createElement(xe,{variant:"xLarge"},"An error occured"),t.createElement(aa,{className:$e.uploadMessageBar,messageBarType:Me.error,isMultiline:!0,onDismiss:W},b)):$?t.createElement(t.Fragment,null,t.createElement(xe,{variant:"xLarge"},"Upload successful"),t.createElement(aa,{className:$e.uploadMessageBar,messageBarType:Me.success,isMultiline:!0,onDismiss:H},$)):d?t.createElement(xe,{styles:{root:{pointerEvents:"none"}}},"Drop files anywhere within the box."):w?t.createElement(Oa,{styles:{root:{width:"80%"}},"data-test":"progress",description:`Uploading: ${(w*100).toFixed(2)}%`,percentComplete:w}):f.length?t.createElement(t.Fragment,null,t.createElement(xe,{variant:"xLarge"},s?"Chosen Files":"Chosen File"),t.createElement(Ne,{horizontal:!0,verticalAlign:"center",styles:{root:{maxWidth:"100%",overflowX:"auto",padding:"30px 0"}},tokens:{childrenGap:15}},f.map(({name:q},te)=>t.createElement(kr,{key:k.xid(),styles:{root:{textAlign:"center",position:"relative"}}},t.createElement(Be,{className:$e.uploadRemove,iconName:"RemoveFilter",onClick:Y(te)}),t.createElement(Be,{iconName:"OpenFile",styles:{root:{fontSize:35}}}),t.createElement("br",null),t.createElement(xe,{nowrap:!0,styles:{root:{display:"block",margin:"15px 0"}}},q))))):t.createElement(t.Fragment,null,t.createElement(Be,{iconName:"Upload",styles:{root:{fontSize:50}}}),t.createElement("input",{id:a,"data-test":a,className:$e.uploadInput,onChange:X,type:"file",accept:E==null?void 0:E.join(","),multiple:s}),t.createElement("label",{htmlFor:a,className:$e.uploadLabel},"Browse..."),t.createElement(xe,{styles:{root:{marginTop:15}}},"Or drag and drop ",s?"files":"a file"," here."));return i?(()=>t.createElement(t.Fragment,null,n&&t.createElement(tt,null,n),w?t.createElement(Oa,{description:`Uploading: ${(w*100).toFixed(2)}%`,percentComplete:w}):t.createElement("div",{className:$e.compact},t.createElement(We,{"data-test":`textfield-${a}`,readOnly:!0,value:g,errorMessage:b}),t.createElement("input",{id:a,"data-test":a,type:"file",hidden:!0,onChange:X,accept:E==null?void 0:E.join(","),multiple:s}),t.createElement("label",{htmlFor:a,className:D($e.uploadLabel,$e.uploadLabelCompact)},"Browse"))))():t.createElement(t.Fragment,null,t.createElement("form",{className:d&&!b&&!$?D($e.upload,$e.uploadDragging):$e.upload,style:{height:o||300},onDragStart:G,onDragEnter:G,onDragEnd:K,onDragLeave:K,onDrop:oe,onDragOver:C},ie()),t.createElement(Re,{disabled:!!w||!f.length,text:n||"Upload",onClick:()=>T()}))},Wn=L({card:{display:"flex",flexDirection:"column",padding:re.gap},body:{flexGrow:1,position:"relative",$nest:{iframe:{position:"absolute",top:0,left:0,right:0,bottom:0}}}}),Do=e=>e.replace(/(\s+src\s*=\s*["'])\//g,`$1${window.location.protocol}//${window.location.host}/`),Hn=e=>URL.createObjectURL(new Blob([Do(e)],{type:"text/html"})),rl=({path:e,content:a})=>t.createElement("iframe",{title:k.xid(),src:e||Hn(a||"Nothing to render."),frameBorder:"0",width:"100%",height:"100%"}),To=({model:{name:e,path:a,content:n,width:r="100%",height:l="150px"}})=>t.createElement("div",{"data-test":e,style:{width:ht(r),height:l}},t.createElement(rl,{path:a,content:n})),Lo=F(({name:e,state:a,changed:n})=>({render:()=>t.createElement("div",{"data-test":e,className:Wn.card},t.createElement("div",{className:"wave-s12 wave-w6"},a.title),t.createElement("div",{className:Wn.body},t.createElement(rl,{path:a.path,content:a.content}))),changed:n}));V.register("frame",Lo);const ll=L({card:{display:"flex",flexDirection:"column",padding:re.gap},img:{flexGrow:1,objectFit:"contain",maxHeight:"calc(100% - 20px)"}}),il=({model:{title:e,type:a,image:n,path:r,width:l}})=>{const i=r||(n&&a?`data:image/${a};base64,${n}`:"");return t.createElement("img",{className:ll.img,alt:e,src:i,width:ht(l)})},Ao=F(({name:e,state:a,changed:n})=>({render:()=>{const{title:l,type:i,image:o,data:c,path:s}=a;return t.createElement("div",{"data-test":e,className:ll.card},t.createElement(Z,{data:c,format:l,className:"wave-s12 wave-w6"}),t.createElement(il,{model:{title:l,type:i,image:o,path:s}}))},changed:n}));V.register("image",Ao);const Bo=({model:e})=>{const{label:a,required:n=!1,disabled:r=!1,name:l}=e;return t.createElement(tt,{"data-test":l,required:n,disabled:r},a)},Na=L({linkGroup:{margin:pe(-6,12,0,12),$nest:{a:{display:"block",marginTop:8},"a:first-of-type":{marginTop:0}}},linkGroupLabel:{marginBottom:10},inline:{display:"flex",$nest:{a:{marginRight:16},"a:last-child":{marginRight:0}}}}),zo=({model:{label:e,items:a,inline:n}})=>t.createElement("div",{className:n?Na.inline:Na.linkGroup},e&&t.createElement("div",{className:D("wave-s20 wave-w6",Na.linkGroupLabel)},e),a.filter(({link:r})=>r).map((r,l)=>t.createElement(ol,{key:l,model:r.link}))),ol=({model:{name:e,label:a,disabled:n,path:r,download:l,target:i,button:o}})=>{const c=a||r,s=i===""?"_blank":i,d=t.useCallback(()=>window.open(r,s),[s,r]),m=t.useCallback(f=>{l&&r&&(f.preventDefault(),window.open(r,"_blank"))},[l,r]);return o?t.createElement(Qe,{"data-test":e,text:c,disabled:n,onClick:d}):t.createElement(Se,{onClick:m,"data-test":e,href:r,disabled:n,target:s},c)},On=L({card:{display:"flex",flexDirection:"column",padding:re.gap},body:{flexGrow:1}}),hn=({model:{content:e,name:a}})=>t.createElement("div",{"data-test":a,dangerouslySetInnerHTML:{__html:e}}),sl=({name:e,title:a,content:n})=>t.createElement("div",{"data-test":e,className:On.card},a&&t.createElement("div",{className:"wave-s12 wave-w6"},a),t.createElement("div",{className:On.body},t.createElement(hn,{model:{content:n}}))),Ro=F(({name:e,state:a,changed:n})=>({render:()=>t.createElement(sl,{name:e,title:a.title,content:a.content}),changed:n}));V.register("markup",Ro);const Io=L({messageBar:{$nest:{".wave-markdown > *:first-child":{marginTop:0},".wave-markdown > *:only-child":{marginBottom:0},".wave-markdown p":{fontSize:14,lineHeight:me(20),letterSpacing:"-0.006em"},".ms-MessageBar-dismissal .ms-Button-icon":{fontSize:16}}}}),Fo={info:{iconName:"InfoSolid",background:"#DBEEFD",color:"#165589"},error:{iconName:"StatusErrorFull",background:"#F1CBCB",color:"#5E0000"},warning:{iconName:"IncidentTriangle",background:"#FFF6DC",color:"#8F7015"},success:{iconName:"CompletedSolid",background:"#CAEACA",color:"#094609"},danger:{iconName:"IncidentTriangle",background:"#F1CBCB",color:"#5E0000"},blocked:{iconName:"Blocked2Solid",background:"#F1CBCB",color:"#5E0000"}},Mo=e=>{switch(e){case"error":return Me.error;case"warning":return Me.warning;case"success":return Me.success;case"danger":return Me.severeWarning;case"blocked":return Me.blocked;default:return Me.info}},cl=({type:e,text:a,buttons:n,name:r,extraStyles:l={},onDismiss:i,isMultiline:o=!1})=>{const{iconName:c,color:s,background:d}=Fo[e||"info"],m=n==null?void 0:n.filter(({button:f})=>f);return(a==null?void 0:a.length)?t.createElement(aa,{"data-test":r,styles:{root:B({background:d,color:s,borderRadius:4,width:"auto",".ms-Link":{color:s,fontWeight:600},".ms-Link:hover":{textDecoration:"none",color:s},padding:16},l),content:{alignItems:o?"start":"center"},icon:{fontSize:24,color:s,display:"inline-flex"},iconContainer:{margin:0,marginRight:16,display:"flex",alignItems:"center"},text:{margin:0},innerText:{whiteSpace:ge("initial")},dismissal:{fontSize:16,height:"auto",marginLeft:16,padding:0,".ms-Button-flexContainer":{display:"block"}},dismissSingleLine:{display:"flex"},actions:{margin:0,marginTop:o?12:void 0}},messageBarType:Mo(e),onDismiss:i,className:Io.messageBar,isMultiline:o,actions:(m==null?void 0:m.length)?t.createElement(ve,{items:m||[],alignment:"end"}):void 0,messageBarIconProps:{iconName:c}},t.createElement(_e,{source:a})):null},Wo=({model:e})=>t.createElement(cl,{name:e.name,text:e.text,type:e.type,buttons:e.buttons}),Ho={xs:Ze.size48,s:Ze.size56,m:Ze.size72,l:Ze.size100,xl:Ze.size120},Mt=({model:e})=>{const a=()=>{if(e.name){if(e.name.startsWith("#")){window.location.hash=e.name.substr(1);return}y.args[e.name]=!0,y.push()}};return t.createElement("div",{"data-test":e.name,onClick:a},t.createElement($r,{styles:{root:{cursor:e.name?"pointer":"initial"},details:{paddingRight:0}},text:e.title,secondaryText:e.subtitle,tertiaryText:e.caption,imageUrl:e.image,imageInitials:e.initials,initialsColor:p(e.initials_color),size:e.size?Ho[e.size]:Ze.size72}))},Oo={suggestionsHeaderText:"Suggestions",noResultsFoundText:"No results found"},Vo=({model:e})=>{const a=t.useMemo(()=>e.choices.map(({name:c,label:s})=>({key:c,name:s||c})),[e.choices]),[n,r]=t.useState(a.filter(({key:c})=>{var s;return(s=e.values)==null?void 0:s.includes(c)})),l=(c,s)=>{if(!c)return[];const d=m=>m.toLowerCase().includes(c.toLowerCase());return a.filter(m=>d(m.name)&&!(s==null?void 0:s.includes(m)))},i=c=>{r(c||[]),y.args[e.name]=c?c.map(({key:s})=>s):null,e.trigger&&y.push()},o=()=>a;return t.useEffect(()=>{y.args[e.name]=e.values||null},[]),t.createElement(t.Fragment,null,e.label&&t.createElement(tt,{required:e.required},e.label),t.createElement(Yl,{inputProps:{"data-test":e.name},removeButtonAriaLabel:"Remove",onResolveSuggestions:l,onChange:i,pickerSuggestionsProps:Oo,itemLimit:e.max_choices,selectedItems:n,disabled:e.disabled,onEmptyResolveSuggestions:o}))},jo="modulepreload",Vn={},Uo="",yn=function(a,n){return!n||n.length===0?a():Promise.all(n.map(r=>{if(r=`${Uo}${r}`,r in Vn)return;Vn[r]=!0;const l=r.endsWith(".css"),i=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const o=document.createElement("link");if(o.rel=l?"stylesheet":jo,l||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),l)return new Promise((c,s)=>{o.addEventListener("load",c),o.addEventListener("error",s)})})).then(()=>a())};let Ga=["$gray","$blue","$green","$amber","$tangerine","$purple","$cyan","$mint","$pink","$brown"];(async()=>{const{registerInteraction:e}=await yn(()=>import("./index.bd6889b4.js"),["static/index.bd6889b4.js","static/vendor.de0ee777.js"]);e("drag_move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});const a=n=>(n.gEvent.preventDefault(),n.gEvent.originalEvent.deltaY>0);e("scale_zoom",{start:[{trigger:"plot:mousewheel",isEnable:n=>a(n.event),action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:n=>!a(n.event),action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),e("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]}],end:[{trigger:"plot:mouseup",action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush:reset"]}]})})();const Xo=(e,a)=>Zo[Xn(e,a,"x")+Xn(e,a,"y")],he=e=>typeof e=="number",Go=e=>typeof e=="boolean",I=e=>typeof e=="string",zt=e=>e.trim().split(/\s+/g),dl=e=>zt(e).map(a=>parseInt(a,10)),Ut=(e,a)=>{for(const n of e)if(n){const r=n[a];r&&I(r)&&(n[a]=new Date(r.includes("T")?r:`${r}T00:00:00`))}},Xt=(e,a,n,r)=>{for(const l of e)l&&(l[r]=[l[a],l[n]])},jn=(e,a,n,r,l,i,o)=>{for(const c of e)c&&(c[o]=[c[a],c[n],c[r],c[l],c[i]])},qo=" 0 1 2 _q1 _q2 _q3".split(" "),Qo=zt("min max nice scale title"),ml=e=>qo.map(a=>e+a),ul=e=>Qo.map(a=>`${e}_${a}`),vn=e=>e.map(a=>[a,a+"_field",a+"_format"]),qa=vn(ml("x")),pl=vn(ml("y")),Un=ul("x"),Yo=ul("y"),Ko=vn(zt("color shape size dodge label")),Jo=[...qa,...pl,...Ko],Xn=(e,a,n)=>{const r=n+"_field",l=n+"_scale";for(const i of a){const o=i,c=o[r];if(o[l]==="time")return"t";if(I(c))for(const d of e){const m=d[c];if(he(m))return"c";if(I(m))return"d"}}return"c"},Zo={cc:0,dd:1,tt:2,dc:4,cd:3,tc:5,ct:6,td:7,dt:8},Gn={},es=(e,a)=>(n,r)=>{const l=n?n[e]:r;return l!=null?(Gn[e]=l,a(Gn)):""},ts=e=>{const a=e;for(let n=0;n<qa.length;n++){const r=qa[n],l=pl[n];for(let i=0;i<r.length;i++){const o=a[r[i]];a[r[i]]=a[l[i]],a[l[i]]=o}}for(let n=0;n<Un.length;n++){const r=Un[n],l=Yo[n],i=a[r];a[r]=a[l],a[l]=i}},as=e=>{const a=e;for(const[n,r,l]of Jo){const i=a[n];if(I(i)){const o=to(i);if(o){const[c,s]=o;a[n]=void 0,a[r]=c,s&&(a[l]=es(c,s))}}}return e},qn=(e,a)=>{for(const n of a)if(n.x_scale==="time"){for(const{x_field:r,x0_field:l}of a)I(r)&&Ut(e,r),I(l)&&Ut(e,l);I(n.x)&&(n.x=new Date(n.x)),I(n.x0)&&(n.x0=new Date(n.x0));break}for(const n of a)if(n.y_scale==="time"){for(const{y_field:r,y0_field:l}of a)I(r)&&Ut(e,r),I(l)&&Ut(e,l);I(n.y)&&(n.y=new Date(n.y)),I(n.y0)&&(n.y0=new Date(n.y0));break}for(const{x_field:n,x0_field:r}of a)I(n)&&I(r)&&Xt(e,r,n,n);for(const{y_field:n,y0_field:r}of a)I(n)&&I(r)&&Xt(e,r,n,n);for(const n of a){const{type:r,x1_field:l,x2_field:i,y_field:o}=n;r==="interval"&&I(l)&&I(i)&&I(o)&&(n.x_field=l+" - "+i,Xt(e,l,i,n.x_field))}for(const n of a){const{type:r,y1_field:l,y2_field:i,x_field:o}=n;r==="interval"&&I(l)&&I(i)&&I(o)&&(n.y_field=l+" - "+i,Xt(e,l,i,n.y_field))}for(const n of a){const{type:r,x1_field:l,x_q1_field:i,x_q2_field:o,x_q3_field:c,x2_field:s,y_field:d}=n;r==="schema"&&I(l)&&I(i)&&I(o)&&I(c)&&I(s)&&I(d)&&(n.x_field=[l,i,o,c,s].join("-"),jn(e,l,i,o,c,s,n.x_field))}for(const n of a){const{type:r,x_field:l,y1_field:i,y_q1_field:o,y_q2_field:c,y_q3_field:s,y2_field:d}=n;r==="schema"&&I(i)&&I(o)&&I(c)&&I(s)&&I(d)&&I(l)&&(n.y_field=[i,o,c,s,d].join("-"),jn(e,i,o,c,s,d,n.y_field))}return e},ns=({x:e,x0:a,y:n,y0:r,label:l,fill_color:i,fill_opacity:o,stroke_color:c,stroke_opacity:s,stroke_size:d,stroke_dash:m,ref_stroke_color:f,ref_stroke_opacity:u,ref_stroke_dash:g,ref_stroke_size:x,label_fill_color:w,label_fill_opacity:P,label_stroke_color:b,label_stroke_opacity:h,label_stroke_size:$,label_font_size:R,label_font_weight:N,label_line_height:v,label_align:E})=>{const T=fl(w,P,b,h,$,R,N,v,E),M=Qa(i,o,c,s,d,m),z=Qa(void 0,void 0,f,u,x,g);return e!=null&&n!=null?a!=null&&r!=null?[{type:"region",start:[a,r],end:[e,n],text:I(l)?{content:l,style:T}:void 0,style:M}]:[{type:"dataMarker",position:[e,n],text:I(l)?{content:l,style:T}:null,point:{style:M},line:{style:z}}]:e!=null?a!=null?[{type:"region",start:[a,"min"],end:[e,"max"],text:I(l)?{content:l,style:T}:null,style:M}]:[{type:"line",start:[e,"min"],end:[e,"max"],text:I(l)?{content:l,style:T,position:"start"}:void 0,style:z}]:r!=null?[{type:"region",start:["min",r],end:["max",n],text:I(l)?{content:l,style:T}:null,style:M}]:[{type:"line",start:["min",n],end:["max",n],text:I(l)?{content:l,style:T,position:"start"}:void 0,style:z}]},rs=({type:e,x_field:a,y_field:n,color_field:r,color_range:l,color_domain:i,color:o,shape_field:c,shape_range:s,shape:d,size_field:m,size_range:f,size:u,stack:g,dodge:x,dodge_field:w,curve:P,fill_color:b,fill_opacity:h,stroke_color:$,stroke_opacity:R,stroke_dash:N,stroke_size:v,label_field:E,label_format:T,label_offset:M,label_offset_x:z,label_offset_y:X,label_rotation:G,label_position:K,label_overlap:oe,label_fill_color:C,label_fill_opacity:W,label_stroke_color:H,label_stroke_opacity:Y,label_stroke_size:ie,label_font_size:ke,label_font_weight:q,label_line_height:te,label_align:J})=>{const Q={};I(e)&&(Q.type=e);const se=[];if(I(w)?se.push({type:"dodge",marginRatio:0,dodgeBy:w}):x==="auto"&&se.push({type:"dodge",marginRatio:0}),g==="auto"&&se.push({type:"stack"}),se.length&&(Q.adjust=se),I(a)&&I(n)&&(Q.position={fields:[a,n]}),I(r)){const S=I(l)?zt(l).map(qe):Ga;if(Q.color={fields:[r],values:S},i&&i.length==S.length){const A=i.reduce((j,_,O)=>(j[_]=S[O],j),{});Q.color.callback=j=>A[j]}}else Q.color=p(I(o)?o:"$themePrimary");if(I(c)?I(s)?Q.shape={fields:[c],values:zt(s)}:Q.shape={fields:[c]}:I(d)&&(Q.shape=d),e==="schema"&&(Q.shape="box"),I(m)?I(f)?Q.size={fields:[m],values:dl(f)}:Q.size={fields:[m]}:he(u)&&(Q.size=u),I(E)){const S=fl(C,W,H,Y,ie,ke,q,te,J),A={};switch(S&&(A.style=S),oe){case"hide":A.layout={type:"overlap"};break;case"overlap":A.layout={type:"fixedOverlap"};break;case"constrain":A.layout={type:"limitInShape"};break}if(he(M)&&(A.offset=M),he(z)&&(A.offsetX=z),he(X)&&(A.offsetY=X),I(G)){const j=k.parseI(G);isNaN(j)?A.autoRotate=G!=="none":A.rotate=j*Math.PI/180}switch(K){case"top":case"bottom":case"middle":case"left":case"right":A.position=K}T?Q.label={fields:[E],callback:j=>({content:T(null,j)})}:Q.label={fields:[E]},Object.keys(A).length&&(Q.label.cfg=A)}if(I(P))switch(P){case"smooth":Q.shape="smooth";break;case"step-before":Q.shape="vh";break;case"step":Q.shape="hvh";break;case"step-after":Q.shape="hv";break}const Pe=Qa(b,h,$,R,v,N);return Pe&&(Q.style=Pe),Q},Qa=(e,a,n,r,l,i)=>{const o={};return I(e)&&(o.fill=qe(e)),he(a)&&(o.fillOpacity=a),I(n)&&(o.stroke=qe(n)),he(r)&&(o.strokeOpacity=r),he(l)&&(o.lineWidth=l),I(i)&&(o.lineDash=dl(i)),Object.keys(o).length?o:void 0},fl=(e,a,n,r,l,i,o,c,s)=>{const d={};if(d.fill=p(I(e)?e:"$neutralPrimaryAlt"),he(a)&&(d.fillOpacity=a),I(n)&&(d.stroke=qe(n)),he(r)&&(d.strokeOpacity=r),he(l)&&(d.lineWidth=l),he(i)&&(d.fontSize=i),I(o)){const m=k.parseU(o);d.fontWeight=isNaN(m)?o:m}return he(c)&&(d.lineHeight=c),I(s)&&(d.textAlign=s),Object.keys(d).length?d:void 0},ls=e=>{const a={},n={};for(const r of e)if(r.x_field){const[l,i]=Qn(r.x_scale,r.x_format,r.x_title,r.x_min,r.x_max,r.x_nice);a[r.x_field]=l,i&&(n[r.x_field]=i);break}for(const r of e)if(r.y_field){const[l,i]=Qn(r.y_scale,r.y_format,r.y_title,r.y_min,r.y_max,r.y_nice);a[r.y_field]=l,i&&(n[r.y_field]=i);break}return[a,n]},is=e=>{switch(e){case"time-category":return"timeCat";case"power":return"pow"}return e},Qn=(e,a,n,r,l,i)=>{const o={},c={label:{autoHide:!1},title:null};return I(e)&&(o.type=is(e)),a&&(o.formatter=s=>a(void 0,s)),I(n)&&(o.alias=n,c.title={}),he(r)&&(o.min=r),he(l)&&(o.max=l),o.nice=Go(i)?i:!0,[o,c]},os=e=>{for(const{coord:a}of e)if(I(a))return a},ss=(e,a)=>{const n=os(a),r=e===3,l=r?[["transpose"]]:void 0;if(r)for(const i of a)ts(i);return n?l?{type:n,actions:l}:{type:n}:l?{actions:l}:void 0},cs=e=>{const a=[],n=[];for(const r of e){const{x:l,y:i}=r;l!=null||i!=null?n.push(...ns(r)):a.push(rs(r))}return[a,n]},ds=(e,a,n,r)=>{const l=ss(a,n),[i,o]=ls(n),[c,s]=cs(n);return{container:e,autoFit:!0,renderer:"svg",theme:{defaultColor:p("$themePrimary"),labels:{style:{fill:p("$text")}},geometries:{point:{"hollow-circle":{default:{style:{fill:"transparent"}}}},interval:{rect:{selected:{style:{stroke:p("$text")}}}}},components:{annotation:{dataMarker:{point:{style:{stroke:p("$themePrimary"),fill:p("$card")}}},line:{style:{fill:p("$neutralPrimaryAlt")}},region:{style:{fill:p("$themePrimary"),fillOpacity:.3}}},legend:{common:{itemName:{style:{fill:p("$text")}},pageNavigator:{text:{style:{fill:p("$text")}},marker:{style:{fill:p("$themePrimary"),inactiveFill:p("$themePrimary")}}}},continuous:{label:{style:{fill:p("$text")}},handler:{style:{fill:p("$neutralPrimaryAlt")}}}},axis:{top:{title:{style:{fill:p("$text")}}},right:{title:{style:{fill:p("$text")}}},bottom:{title:{style:{fill:p("$text")}}},left:{title:{style:{fill:p("$text")}}},circle:{label:{style:{fill:p("$text")}}},radius:{label:{style:{fill:p("$text")}}},common:{label:{style:{fill:p("$text")}},grid:{line:{style:{stroke:p("$neutralPrimaryAlt"),strokeOpacity:.2}}},line:{style:{stroke:p("$neutralPrimaryAlt"),strokeOpacity:.6}},tickLine:{style:{stroke:p("$neutralPrimaryAlt"),strokeOpacity:.6}}}}}},options:{animate:!1,coordinate:l,scales:i,axes:o,geometries:c,annotations:s,interactions:r.map(d=>({type:d})),tooltip:{showCrosshairs:!0,crosshairs:{type:"xy"}}}}},Ya=L({card:{display:"flex",flexDirection:"column",padding:re.gap},body:{flexGrow:1,display:"flex"},plot:{userSelect:"none","-webkit-user-select":"none",$nest:{svg:{position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"visible"}}}}),bn=({model:e})=>{const a=t.useRef(null),n=t.useRef(null),r=t.useRef(null),l=(m,f)=>{var g;const u=a.current;!u||(u.clientHeight!==f||u.clientWidth!==m)&&((g=n.current)==null||g.destroy(),i())},i=async()=>{Ga=Ga.map(qe);const m=a.current;if(!m)return;m.clientHeight<30&&(m.style.height="300px");const f=k.unpack(e.data),u=k.unpack(e.plot),g=u.marks.map(as),x={marks:g},w=Xo(f,g),P=qn(f,x.marks),{Chart:b}=await yn(()=>import("./index.bd6889b4.js"),["static/index.bd6889b4.js","static/vendor.de0ee777.js"]),h=x.marks?new b(ds(m,w,x.marks,e.interactions||[])):null;if(r.current=x,h){if(n.current=h,h.data(P),e.events)for(const $ of e.events)switch($){case"select_marks":h.interaction("element-single-selected"),h.on("element:statechange",R=>{var v;const N=R.gEvent.originalEvent;N.stateStatus&&N.state==="selected"&&e.name&&y.emit(e.name,$,[(v=N.element)==null?void 0:v.data])})}h.render(),setTimeout(()=>l(m.clientWidth,m.clientHeight),300)}};t.useEffect(()=>{i()},[]),t.useEffect(()=>{if(!a.current||!n.current||!r.current)return;const f=k.unpack(e.data),u=qn(f,r.current.marks);n.current.changeData(u)},[n,r,e]);const{width:o="auto",height:c="auto",name:s}=e,d=o==="auto"&&c==="auto"?{flexGrow:1}:{width:ht(o),height:c};return t.createElement("div",{"data-test":s,style:d,className:Ya.plot,ref:a})},ms=F(({name:e,state:a,changed:n})=>({render:()=>{const{title:l="Untitled",plot:i,data:o,events:c,interactions:s}=a;return t.createElement("div",{className:Ya.card},t.createElement("div",{className:"wave-s12 wave-w6"},l),t.createElement("div",{className:Ya.body},t.createElement(bn,{model:{name:e,plot:i,data:o,events:c,interactions:s}})))},changed:n}));V.register("plot",ms);const us=({model:e})=>{const{label:a,caption:n="Please wait...",value:r,name:l}=e;return t.createElement("div",{"data-test":l},t.createElement(Oa,{label:a,description:n,percentComplete:r}))},ps=({model:e})=>{const{min:a=0,max:n=100,step:r=1,min_value:l,max_value:i=n,disabled:o,trigger:c,name:s,label:d}=e,m=t.useCallback((u,g)=>{g&&(y.args[s]=g)},[s]),f=t.useCallback(()=>{c&&y.push()},[c]);return t.useEffect(()=>{y.args[s]=[typeof l=="number"&&l>a&&l<=n?l:a,typeof i=="number"&&i>a&&i<=n?i:n]},[]),t.createElement("div",{"data-test":s},t.createElement(Cr,{ranged:!0,max:n,min:a,step:r,label:d,defaultLowerValue:l,defaultValue:i,disabled:o,onChange:m,onChanged:f}))},fs=L({separator:{boxSizing:"border-box"}}),gs=({model:e})=>t.createElement("div",{"data-test":e.name,className:fs.separator},t.createElement(ya,null,e.label)),hs=({model:e})=>{const{min:a=0,max:n=100,step:r=1,value:l=0}=e,i=l<a?a:l>n?n:l,o=s=>y.args[e.name]=s,c=t.useCallback((s,d)=>{e.trigger&&y.push()},[e.trigger]);return t.useEffect(()=>{y.args[e.name]=i},[]),t.createElement(Cr,{"data-test":e.name,buttonProps:{"data-test":e.name},label:e.label,min:a,max:n,step:r,defaultValue:i,showValue:!0,originFromZero:a<0&&n>=0,onChange:o,onChanged:c,disabled:e.disabled})},ys=500,vs=(e,a)=>{const n=Math.pow(10,a);return Math.round(e*n)/n},bs=e=>{var n,r;const a=/[1-9]([0]+$)|\.([0-9]*)/.exec(String(e));return a&&(-((n=a[1])==null?void 0:n.length)||((r=a[2])==null?void 0:r.length))||0},xs=({model:{name:e,trigger:a,label:n,disabled:r,min:l=0,max:i=100,step:o=1,value:c=0}})=>{const[s,d]=t.useState(String(c)),m=Math.max(bs(o),0),f=t.useCallback(h=>{const $=vs(h,m);return!isNaN($)&&isFinite($)?$:c},[m,c]),u=()=>{const h=Math.min(f(Number(s)+o),i);return y.args[e]=h,a&&y.push(),d(String(h)),String(h)},g=()=>{const h=Math.max(f(Number(s)-o),l);return y.args[e]=h,a&&y.push(),d(String(h)),String(h)},x=t.useCallback(h=>{const $=/\.$|\.\d*0+$/,R=f(Number(h)),N=R>i?i:R<l?l:R;if(h==="-")d("-");else if(!m)d(String(N).split(".")[0]);else if($.test(h)){const[v,E=""]=h.split(".");d(`${v}.${E.slice(0,m)}`)}else d(String(N));return N},[i,l,f,m]),w=t.useCallback(h=>{y.args[e]=h,a&&y.push()},[e,a]),P=t.useRef(y.debounce(ys,w)),b=h=>{const $=x(h.target.value);a?P.current($):w($)};return t.useEffect(()=>{y.args[e]=c<l?l:c>i?i:c},[]),t.createElement(Nr,{inputProps:{"data-test":e,value:s},label:n,onInput:b,min:l,max:i,step:o,onIncrement:u,onDecrement:g,disabled:r})},rt=L({stats:{display:"flex",alignItems:"flex-start",overflowX:"auto"},inset:{background:p("$page"),padding:fe(10,15)},stat:{display:"flex",alignItems:"center"},lhs:{width:45,marginRight:"0.5em"},icon:{fontSize:45},statCaption:{color:p("$text5")}}),Es={start:"flex-start",end:"flex-end",center:"center",between:"space-between",around:"space-around"},Sa="2em",ws=({model:e})=>{var l;const a=e.justify?e.justify==="start"?{marginRight:Sa}:e.justify==="end"?{marginLeft:Sa}:{}:{marginRight:Sa},n=Es[(l=e.justify)!=null?l:""],r=e.items.map(({label:i,value:o,caption:c,icon:s,icon_color:d},m)=>t.createElement("div",{key:`${m}:${i}`,className:rt.stat,style:a},s&&t.createElement("div",{className:rt.lhs,style:d?{color:p(d)}:void 0},t.createElement(ze,{className:rt.icon,iconName:s})),t.createElement("div",null,t.createElement("div",{className:"wave-s12 wave-w5"},i),o&&t.createElement("div",{className:"wave-s24 wave-w3"},o),c&&t.createElement("div",{className:D(rt.statCaption,"wave-s13")},c))));return t.createElement("div",{className:D(rt.stats,e.inset?rt.inset:""),style:{justifyContent:n}},r)},Yn=L({stepNumber:{background:"var(--text)",color:"var(--card)",alignItems:"center",borderRadius:"50%",display:"inline-flex",justifyContent:"center",fontSize:Fr(.8),height:24,minWidth:24,width:24},disabled:{opacity:.5}}),Kn={root:{fontSize:24}},ks=({model:e})=>{const a=e.items,n=l=>l>0&&!a[l-1].done?Yn.disabled:"",r=(l,i)=>t.createElement(t.Fragment,{key:i},t.createElement(Ne,{horizontal:!0,horizontalAlign:"space-between",verticalAlign:"center",grow:1},t.createElement(Ne,{className:l.done?"":n(i),horizontalAlign:"center",styles:{root:{paddingRight:10,paddingLeft:10}}},l.done?t.createElement(Be,{styles:Kn,iconName:"CompletedSolid"}):l.icon?t.createElement(Be,{styles:Kn,iconName:l.icon}):t.createElement("span",{className:Yn.stepNumber},i+1),t.createElement(xe,{block:!0,nowrap:!0,styles:{root:{padding:10}}},l.label))),a.length-1!==i&&t.createElement(ya,{styles:{root:{width:"100%"}}}));return t.createElement(Ne,{"data-test":e.name,horizontal:!0,horizontalAlign:"space-between",verticalAlign:"center"},a.map(r))},$s=({model:e,icon:a})=>t.createElement(Be,{"data-test":e.name,iconName:a,styles:{root:{fontSize:"1.2rem",color:e.color||"inherit"}}}),Cs=L({container:{position:"absolute",top:0,left:0,right:0,bottom:0}}),xn=({thickness:e,color:a,value:n})=>{const r=t.useRef(null),[l,i]=t.useState(null),o=t.useCallback(()=>{if(!r.current)return;const{width:s,height:d}=r.current.getBoundingClientRect();if(!d){setTimeout(o,300);return}const m=Math.min(s,d),f=m/2,u=m/2-e,g=na()({outerRadius:f,innerRadius:u,startAngle:0,endAngle:2*Math.PI}),x=na()({outerRadius:f,innerRadius:u,startAngle:0,endAngle:2*Math.PI*n});i(t.createElement("svg",{viewBox:`0 0 ${s} ${d}`,style:{position:"absolute",top:0,left:0,right:0,bottom:0}},t.createElement("g",{transform:m===d?`translate(${(s-2*f)/2}, 0)`:`translate(0, ${(d-2*f)/2})`},t.createElement("path",{d:g,fill:a,fillOpacity:.15,transform:`translate(${f},${f})`}),t.createElement("path",{d:x,fill:a,transform:`translate(${f},${f})`}))))},[a,e,n]),c=et(1e3,o);return t.useEffect(()=>(window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)),[]),t.useLayoutEffect(o,[n,a,e,o]),t.createElement("div",{ref:r,className:Cs.container},l)},_a=L({container:{position:"relative",width:50,height:50},percentContainer:{position:"absolute",top:0,left:0,bottom:0,right:0},percent:{color:p("$text6")}}),Ns=({model:e,progress:a})=>t.createElement("div",{"data-test":e.name,className:_a.container},t.createElement(xn,{thickness:2,color:p(e.color||"$red"),value:a}),t.createElement(Ne,{horizontalAlign:"center",verticalAlign:"center",className:D(_a.percentContainer,"wave-s12")},t.createElement("div",{className:_a.percent},`${Math.round(a*100)}%`))),Ss=L({tag:{borderRadius:4,padding:fe(4,16),"&:not(:first-child)":{marginLeft:8}}}),_s=({model:e,serializedTags:a})=>{const n=(r,l)=>{var d;const i=(d=e.tags)==null?void 0:d.find(({label:m})=>m===r),o=(i==null?void 0:i.color)||"$text",c=p(o),s=p((i==null?void 0:i.label_color)||ra(o));return t.createElement("span",{key:l,style:{background:c,color:s},className:D(Ss.tag,"wave-s12 wave-w6")},r)};return t.createElement("div",{"data-test":e.name},a.split(",").map(n))},Jn=L({sortableHeader:{$nest:{".ms-DetailsHeader-cellName":{position:"relative",paddingRight:15}}},sortingIcon:{marginLeft:10,fontSize:Fr(1.1),position:"absolute",top:-2,right:-5}}),Ps={contentWrapper:{borderTop:"none",".ms-List-page:first-child .ms-List-cell:first-child > .ms-DetailsRow":{borderTop:ye(2,"transparent")}}},Ds={always:Ea.always,"on-hover":Ea.onHover,hidden:Ea.hidden},Ts=function(e,a){return e.reduce((n,r)=>((n[r[a]]=n[r[a]]||[]).push(r),n),{})},Zn=(e,a)=>(n,r)=>{let l=n[e.key],i=r[e.key];switch(e.dataType){case"number":return l=+l,i=+i,a?l-i:i-l;case"time":l=Date.parse(l),i=Date.parse(i);break;default:l=l.toLowerCase(),i=i.toLowerCase();break}return a?i>l?-1:1:i>l?1:-1},er=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),Ls=e=>e.map(a=>{const n=JSON.stringify(a);return n.substr(1,n.length-2)}).join(`
`),As=({onFilterChange:e,col:a,listProps:n,selectedFiltersRef:r,setFiltersInBulk:l})=>{var f;const i=(u,g)=>{var x;return!!r.current&&((x=r.current[u])==null?void 0:x.includes(g))},[o,c]=t.useState(((f=a.cellType)==null?void 0:f.tag)?Array.from(n.items.reduce((u,{key:g,text:x,data:w})=>(g.split(",").forEach(P=>u.set(P,{key:P,text:x,data:w,checked:i(w,P)})),u),new Map).values()):n.items.map(u=>ne(B({},u),{checked:i(u.data,u.key)}))),s=()=>{c(o.map(u=>ne(B({},u),{checked:!0}))),l(a.key,o.map(u=>u.key))},d=()=>{c(o.map(u=>ne(B({},u),{checked:!1}))),l(a.key,[])},m=(u,g)=>(x,w)=>{c(P=>P.map(b=>b.key===g?ne(B({},b),{checked:w}):b)),e(u,g,w)};return t.createElement("div",{style:{padding:10}},t.createElement(xe,{variant:"mediumPlus",styles:{root:{paddingTop:10,paddingBottom:10,fontWeight:"bold"}},block:!0},"Show only"),t.createElement(xe,{variant:"small"},t.createElement(Se,{onClick:s},"Select All")," | ",t.createElement(Se,{onClick:d},"Deselect All")),o.map(({key:u,data:g,checked:x})=>t.createElement(fa,{key:u,label:u,checked:x,onChange:m(g,u),styles:{root:{marginBottom:5},checkmark:{display:"flex"}}})))},tr=t.forwardRef(({model:e,onFilterChange:a,items:n,filteredItems:r,selection:l,selectedFilters:i,isMultiple:o,groups:c,expandedRefs:s,sort:d,setFiltersInBulk:m},f)=>{var K,oe;const[u,g]=t.useState(null),x=t.useRef(i),w=(C,W)=>{if(C.target.closest('[data-icon-name="ChevronDown"]'))R(W,C);else if(W.isSortable){const Y=W.iconName==="SortDown";d(W,Y),b(P.map(ie=>(W.key===ie.key&&(ie.iconName=Y?"SortUp":"SortDown"),ie)))}},[P,b]=t.useState(e.columns.map(C=>{const W=C.min_width?C.min_width.endsWith("px")?+C.min_width.substring(0,C.min_width.length-2):+C.min_width:150,H=C.max_width?C.max_width.endsWith("px")?+C.max_width.substring(0,C.max_width.length-2):+C.max_width:void 0;return{key:C.name,name:C.label,fieldName:C.name,minWidth:W,maxWidth:H,headerClassName:C.sortable?Jn.sortableHeader:void 0,iconClassName:C.sortable?Jn.sortingIcon:void 0,iconName:C.sortable?"SortDown":void 0,onColumnClick:w,columnActionsMode:C.filterable?_n.hasDropdown:_n.clickable,cellType:C.cell_type,dataType:C.data_type,isSortable:C.sortable,cellOverflow:C.cell_overflow,styles:{root:{height:48},cellName:{color:p("$neutralPrimary")}},isResizable:!0,isMultiline:C.cell_overflow==="wrap",filters:C.filterable&&e.pagination?C.filters:void 0}})),h=((K=e.columns.find(C=>C.link))==null?void 0:K.name)||(e.columns[0].link===!1?void 0:e.columns[0].name),$=t.useCallback(C=>W=>W?t.createElement(As,{onFilterChange:a,col:C,listProps:W,selectedFiltersRef:x,setFiltersInBulk:m}):null,[a,m]),R=t.useCallback((C,W)=>{const H=C.filters||n.map(Y=>Y[C.fieldName||C.key]);g({items:Array.from(new Set(H)).map(Y=>({key:Y,text:Y,data:C.fieldName||C.key})),target:W.target,directionalHint:rn.bottomLeftEdge,gapSpace:10,isBeakVisible:!0,onRenderMenuList:$(C),onDismiss:()=>g(null)})},[n,$]),N=t.useCallback(C=>C?t.createElement(Kl,{stickyPosition:Jl.Header,isScrollSynced:!0},t.createElement(Zl,ne(B({},C),{isAllCollapsed:c==null?void 0:c.every(W=>W.isCollapsed),styles:ne(B({},C.styles),{root:{padding:0,height:48,lineHeight:"48px",background:p("$neutralLight"),borderBottom:"none"},cellSizerEnd:{marginLeft:-8},cellIsGroupExpander:{height:48}})}))):t.createElement("span",null),[c]),v=t.useCallback(C=>C?t.createElement(ei,ne(B({},C),{styles:{root:{position:"sticky",top:48,backgroundColor:p("$card"),zIndex:1}}})):t.createElement("span",null),[]),E=C=>s.current=C?{}:null,T=({key:C,isCollapsed:W})=>{s.current?W?s.current[C]=!1:delete s.current[C]:s.current={[C]:!1}},M=C=>C?t.createElement(ri,ne(B({},C),{styles:{cell:{alignSelf:"center",fontSize:14,lineHeight:20,color:p("$text9")},checkCell:{display:"flex",alignItems:"center"},root:{width:"100%",border:ye(2,"transparent"),borderTop:ye(2,p("$neutralLight")),background:p("$card"),minHeight:48,"&:hover":{background:p("$neutralLight"),border:`${ye(2,p("$themePrimary"))} !important`}}}})):null,z=C=>{y.args[e.name]=[C.key],y.push()},X=(C,W,H)=>{var ke,q,te;if(!C||!H)return t.createElement("span",null);const Y=({children:J})=>H.cellOverflow==="tooltip"?t.createElement(Wa,{id:C.key,styles:{root:{"::after":{content:"",display:"block"}}},content:J,overflowMode:li.Parent,title:J},J):t.createElement(t.Fragment,null,J);let ie=C[H.fieldName];if((ke=H.cellType)==null?void 0:ke.progress)return t.createElement(Ns,{model:H.cellType.progress,progress:C[H.key]});if((q=H.cellType)==null?void 0:q.icon)return t.createElement($s,{model:H.cellType.icon,icon:C[H.key]});if((te=H.cellType)==null?void 0:te.tag)return t.createElement(_s,{model:H.cellType.tag,serializedTags:C[H.key]});if(H.dataType==="time"&&(ie=new Date(ie).toLocaleString()),H.key===h&&!o){const J=()=>{y.args[e.name]=[C.key],y.push()};return t.createElement(Se,{onClick:J},t.createElement(Y,null,ie))}return t.createElement(Y,null,ie)},G=C=>{const W=e.columns.some(Y=>{var ie;return(ie=Y.cell_type)==null?void 0:ie.progress})?76:48;return 48+(C.isCollapsed?0:W*C.count)};return t.useEffect(()=>{x.current=i},[i]),t.useImperativeHandle(f,()=>({resetSortIcons:()=>{b(P.map(C=>(C.iconName&&(C.iconName="SortDown"),C)))}})),t.createElement(t.Fragment,null,t.createElement(ti,{styles:Ps,items:r,columns:P,constrainMode:ai.unconstrained,layoutMode:ni.fixedColumns,groups:c,groupProps:{onToggleCollapseAll:E,onRenderHeader:v,headerProps:{onToggleCollapse:T},isAllGroupsCollapsed:(oe=e.groups)==null?void 0:oe.every(({collapsed:C=!0})=>C)},getGroupHeight:G,selection:l,selectionMode:o?Pn.multiple:Pn.none,selectionPreservedOnEmptyClick:!0,onItemInvoked:o?void 0:z,onRenderRow:M,onRenderItemColumn:X,onRenderDetailsHeader:N,checkboxVisibility:Ds[e.checkbox_visibility||"on-hover"]}),u&&t.createElement(an,B({},u)))}),Bs=({currentPage:e,onPageChange:a,pagination:n})=>{const{total_rows:r,rows_per_page:l}=n,i=Math.ceil(r/l),o={rootDisabled:{background:"transparent"},root:{marginLeft:-8}},c=e===i||i===0;return t.createElement("span",null,t.createElement("span",{style:{marginRight:15}},r?t.createElement(t.Fragment,null,t.createElement("b",null,(e-1)*l+1)," to ",t.createElement("b",null,c?r:e*l)," of ",t.createElement("b",null,r)):t.createElement(t.Fragment,null,t.createElement("b",null,"0")," to ",t.createElement("b",null,"0")," of ",t.createElement("b",null,"0"))),t.createElement(Nt,{iconProps:{iconName:"DoubleChevronLeft"},disabled:e===1,onClick:()=>a(1),styles:o,title:"First page"}),t.createElement(Nt,{iconProps:{iconName:"ChevronLeft"},disabled:e===1,onClick:()=>a(e-1),styles:o,title:"Previous page"}),t.createElement("span",{style:{margin:pe(0,8)}},"Page ",t.createElement("b",null,e)," of ",t.createElement("b",null,i||1)),t.createElement(Nt,{iconProps:{iconName:"ChevronRight"},disabled:c,onClick:()=>a(e+1),styles:o,title:"Next page"}),t.createElement(Nt,{iconProps:{iconName:"DoubleChevronRight"},disabled:c,onClick:()=>a(i),styles:o,title:"Last page"}))},zs=({m:e,isFilterable:a,isSearchable:n,displayedRows:r,reset:l,currentPage:i,onPageChange:o})=>{const c=[],s={root:{background:p("$card")}},d=()=>{var w,P;if(e.pagination&&((w=e.events)==null?void 0:w.includes("download"))){y.emit(e.name,"download",!0);return}const m=((P=e.groups?e.groups.flatMap(({rows:b})=>b):e.rows)==null?void 0:P.map(({cells:b})=>b))||[],f=Ls([e.columns.map(({label:b,name:h})=>b||h),...m]),u=document.createElement("a"),g=new Blob([f],{type:"octet/stream"}),x=window.URL.createObjectURL(g);u.href=x,u.download="exported_data.csv",u.click(),window.URL.revokeObjectURL(x)};return e.downloadable&&c.push({key:"download",text:"Download data",iconProps:{iconName:"Download"},onClick:d,buttonStyles:s}),e.resettable&&c.push({key:"reset",text:"Reset table",iconProps:{iconName:"Refresh"},onClick:l,buttonStyles:s}),t.createElement(Ne,{horizontal:!0,horizontalAlign:"space-between",verticalAlign:"center",className:"wave-s12",styles:{root:{background:p("$neutralLight"),borderRadius:"0 0 4px 4px",paddingLeft:12,height:46,position:"absolute",bottom:0,left:0,right:0}}},!e.pagination&&(a||n)&&t.createElement(xe,{variant:"smallPlus",block:!0,styles:{root:{whiteSpace:"nowrap",color:p("$text")}}},t.createElement("b",{style:{paddingLeft:5}},r)),e.pagination&&t.createElement(Bs,{pagination:e.pagination,currentPage:i,onPageChange:o}),!!c.length&&t.createElement(kr,{grow:1},t.createElement(on,{items:c,styles:{root:{background:p("$neutralLight"),".ms-Button--commandBar":{background:"transparent"}},primarySet:{justifyContent:"flex-end"}}})))},Rs=({model:e})=>{var Pe;const a=!e.groups&&e.groupable,n=t.useCallback(S=>{const A={key:S.name};for(let j=0,_=S.cells.length;j<_;j++){const O=e.columns[j];A[O.name]=S.cells[j]}return A},[e.columns]),r=t.useMemo(()=>e.groups?e.groups.reduce((S,{rows:A,label:j,collapsed:_=!0})=>(S.push(...A.map(O=>ne(B({},n(O)),{group:j,collapsed:_}))),S),[]):(e.rows||[]).map(n),[e.rows,e.groups,n]),l=Boolean(((Pe=e.values)==null?void 0:Pe.length)||e.multiple),[i,o]=t.useState(r),[c,s]=t.useState(1),d=t.useMemo(()=>e.columns.filter(({searchable:S})=>S).map(({name:S})=>S),[e.columns]),[m,f]=t.useState(""),[u,g]=t.useState(null),[x,w]=t.useState(),P=t.useRef({}),[b,h]=t.useState("*"),$=t.useRef(null),R=t.useRef(null),N=t.useMemo(()=>a?[{key:"*",text:"(No Grouping)"},...e.columns.map(S=>({key:S.name,text:S.label}))]:[],[e.columns,a]),v=t.useCallback(S=>{o(S?r.filter(A=>Object.keys(S).every(j=>!S[j].length||S[j].some(_=>String(A[j]).includes(_)))):r)},[r]),E=(S,A)=>{if(A===null)return!1;const j=A[S];return j===void 0||j},T=t.useCallback((S,A)=>{var O;let j,_=[];if(e.groups)j=A.reduce((U,{group:ee},be)=>{const ue=U[U.length-1];return(ue==null?void 0:ue.key)===ee?ue.count++:U.push({key:ee,name:ee,startIndex:be,count:1,isCollapsed:E(ee,P.current)}),U},[]);else{let U=0;_=Ts(A,S);const ee=Object.keys(_),be=(O=e.columns.find(ue=>ue.name===S))==null?void 0:O.data_type;j=ee.map((ue,at)=>{if(at!==0){const Ht=ee[at-1];U+=_[Ht].length}const Wt=be==="time"?new Date(ue).toLocaleString():ue;return{key:ue,name:Wt,startIndex:U,count:_[ue].length,isCollapsed:E(ue,P.current)}}).sort(({name:ue},{name:at})=>{const Wt=Number(ue),Ht=Number(at);if(!isNaN(Wt)&&!isNaN(Ht))return Wt-Ht;const kn=Date.parse(ue),$n=Date.parse(at);return!isNaN(kn)&&!isNaN($n)?kn-$n:at<ue?1:-1})}return{groupedBy:_,groups:j}},[e.columns,e.groups]),M=t.useCallback(()=>{h(S=>(o(A=>{const{groupedBy:j,groups:_}=T(S,A);return w(_),e.groups?A:Object.values(j).flatMap(O=>O)}),S))},[e.groups,T]),z=t.useCallback(()=>{f(S=>{const A=S.toLowerCase();return!A||!d.length||o(j=>j.filter(_=>d.some(O=>_[O].toLowerCase().includes(A)))),S||""})},[d]),X=S=>{y.emit(e.name,"search",{value:S,cols:d}),s(1)},G=t.useRef(y.debounce(500,X)),K=t.useCallback((S,A="")=>{var j;if(f(A),e.pagination&&((j=e.events)==null?void 0:j.includes("search"))){G.current(A);return}if(!A&&!u){o(r),w(_=>(_&&M(),_));return}v(u),z(),w(_=>(_&&M(),_))},[e.pagination,e.events,u,v,z,r,M]),oe=(S,A)=>{if(!!A){if(e.pagination){y.emit(e.name,"group_by",!0),s(1);return}ke(),A.key!=="*"&&(h(A.key),P.current={},M())}},C=t.useCallback(S=>{var A;e.pagination&&((A=e.events)==null?void 0:A.includes("page_change"))&&(s(S),y.emit(e.name,"page_change",{offset:(S-1)*e.pagination.rows_per_page}),($==null?void 0:$.current)&&($.current._contentContainer.current.scrollTop=0))},[e.events,e.name,e.pagination]),W=!!d.length,H=e.columns.some(S=>S.filterable),Y=e.downloadable||e.resettable||W||H||!!e.pagination,ie=t.useCallback((S,A,j)=>{g(_=>{var U;const O=_||{};return j?O[S]?O[S].push(A):O[S]=[A]:O[S]=O[S].filter(ee=>ee!==A),e.pagination&&((U=e.events)==null?void 0:U.includes("filter"))?(y.emit(e.name,"filter",O),s(1)):(v(O),z(),w(ee=>(ee&&M(),ee))),O})},[v,M,e.events,e.name,e.pagination,z]),ke=t.useCallback(()=>{var S,A;if(g(null),f(""),w(void 0),e.groups&&M(),P.current={},h("*"),(S=R.current)==null||S.resetSortIcons(),e.pagination&&((A=e.events)==null?void 0:A.includes("reset"))){y.emit(e.name,"reset",!0),s(1);return}v(null),z()},[v,M,e.events,e.groups,e.name,e.pagination,z]),q=t.useMemo(()=>new ii({onSelectionChanged:()=>{y.args[e.name]=q.getSelection().map(S=>S.key)}}),[e.name]),te=()=>{if(e.height)return e.height;if(r.length>10)return 500;const S=d.length||a?80:0,A=50,j=e.columns.some(U=>{var ee;return(ee=U.cell_type)==null?void 0:ee.progress})?76:48,_=e.downloadable||e.resettable||d.length||e.columns.some(U=>U.filterable)?46:0,O=2;return S+A+r.length*j+_+O},J=t.useCallback((S,A)=>{var j;if(e.pagination&&((j=e.events)==null?void 0:j.includes("sort"))){y.emit(e.name,"sort",{[S.fieldName||S.name]:A}),s(1);return}w(_=>(o(_?O=>[..._].sort((U,ee)=>U.startIndex-ee.startIndex).reduce((U,ee)=>[...U,...O.slice(ee.startIndex,U.length+ee.count).sort(Zn(S,A))],[])||[]:O=>[...O].sort(Zn(S,A))),_))},[e.events,e.name,e.pagination]),Q=t.useCallback((S,A)=>{g(j=>{var O;const _=ne(B({},j),{[S]:A});return e.pagination&&((O=e.events)==null?void 0:O.includes("filter"))?(y.emit(e.name,"filter",_),s(1)):(v(_),z(),w(U=>(U&&M(),U))),_})},[e.pagination,e.events,e.name,v,z,M]);t.useEffect(()=>{y.args[e.name]=[],l&&e.values&&(e.values.forEach(S=>q.setKeySelected(S,!0,!1)),y.args[e.name]=e.values)},[]),t.useEffect(()=>o(r),[r]),t.useEffect(()=>{var S;e.groups&&(P.current=(S=e.groups)==null?void 0:S.reduce((A,{label:j,collapsed:_=!0})=>(_||(A[j]=!1),A),{}),M())},[M,e.groups]);const se=t.useMemo(()=>({model:e,onFilterChange:ie,items:r,filteredItems:i,selectedFilters:u,groups:x,expandedRefs:P,selection:q,sort:J,isMultiple:l,setFiltersInBulk:Q}),[i,x,P,l,r,e,ie,u,q,J,Q]);return t.createElement("div",{"data-test":e.name,style:{position:"relative",height:te()}},t.createElement(Ne,{horizontal:!0,horizontalAlign:"space-between",verticalAlign:"end"},a&&!e.pagination&&t.createElement(ga,{"data-test":"groupby",label:"Group by",selectedKey:b,onChange:oe,options:N,styles:{root:{width:300}}}),!!d.length&&t.createElement(Er,{"data-test":"search",placeholder:"Search",onChange:K,value:m,styles:{root:{width:"50%",maxWidth:500}}})),t.createElement(wr,{componentRef:$,scrollbarVisibility:oi.auto,styles:{root:{top:a||d.length?80:0,bottom:Y?46:0},stickyAbove:{right:ge("12px"),border:ye(2,"transparent"),zIndex:2},contentContainer:{border:ye(2,p("$neutralLight")),borderRadius:"4px 4px 0 0"}}},l?t.createElement(si,{selection:q},t.createElement(tr,B({ref:R},se))):t.createElement(tr,B({ref:R},se))),Y&&t.createElement(zs,{m:e,currentPage:c,onPageChange:C,isSearchable:W,isFilterable:H,displayedRows:`${er(i.length)} of ${er(r.length)}`,reset:ke}))},Is=L({pivot:{minHeight:46,overflowX:"auto",overflowY:"hidden"}}),Fs=({model:e})=>{var r;const a=l=>{const i=l==null?void 0:l.props.itemKey;if(!!i){if(i.startsWith("#")){window.location.hash=i.substr(1);return}e.name?i!==y.args[e.name]&&(y.args[e.name]=i,y.push()):(y.args[i]=!0,y.push())}},n=(r=e.items)==null?void 0:r.map(l=>t.createElement(Sr,{key:l.name,itemIcon:l.icon,itemKey:l.name,headerText:l.label}));return t.createElement("div",{className:Is.pivot},t.createElement(_r,{"data-test":e.name,className:e.link?"w-tabs-link":"w-tabs",defaultSelectedKey:e.value,linkFormat:e.link?"links":"tabs",onLinkClick:a},n))},Ms=({model:e})=>{const a=pa.compile(e.content||""),n=k.unpack(e.data);return t.createElement("div",{"data-test":e.name},t.createElement(hn,{model:{content:a(n||{})}}))},Ws=F(({name:e,state:a,changed:n})=>{const r=pa.compile(a.content||"");return{render:()=>{const i=k.unpack(a.data);return t.createElement(sl,{name:e,title:da(a.title,i),content:r(i||{})})},changed:n}});V.register("template",Ws);const Hs=L({text:{position:"relative",$nest:{p:{margin:pe(0,0,10,0)}}}}),Os={xl:"xLarge",l:"large",m:"medium",s:"small",xs:"xSmall"},Vs=e=>Os[e]||"mediumPlus",lt=({content:e,name:a,size:n,commands:r})=>{const l=a&&`${a}-menu`;return t.createElement("div",{className:Hs.text},t.createElement(xe,{"data-test":a,variant:Vs(n||"m"),block:!0,styles:{root:{color:p("$text")}}},t.createElement(_e,{source:e})),!!(r==null?void 0:r.length)&&t.createElement(un,{name:l,commands:r}))},ar=500,js=({model:e})=>{const a=({target:n},r)=>{r=r||n.value,y.args[e.name]=r!=null?r:e.value||"",e.trigger&&y.push()};return t.useEffect(()=>{y.args[e.name]=e.value||""},[]),e.mask?t.createElement(ci,{"data-test":e.name,label:e.label,defaultValue:e.value,mask:e.mask,errorMessage:e.error,required:e.required,disabled:e.disabled,readOnly:e.readonly,onChange:e.trigger?et(ar,a):a}):t.createElement(We,{"data-test":e.name,styles:e.multiline&&e.height?{fieldGroup:{height:e.height}}:void 0,label:e.label,placeholder:e.placeholder,iconProps:{iconName:e.icon},prefix:e.prefix,suffix:e.suffix,defaultValue:e.value,errorMessage:e.error,required:e.required,disabled:e.disabled,readOnly:e.readonly,multiline:e.multiline,spellCheck:e.spellcheck,type:e.password?"password":void 0,onChange:e.trigger?et(ar,a):a})},De=L({title:{color:p("$neutralPrimary"),marginBottom:8},tags:{display:"flex",flexWrap:"wrap",marginTop:1},tag:{padding:fe(4,16),textAlign:"center",borderRadius:4,cursor:"pointer"},tagWrapper:{marginRight:4,marginBottom:4,border:ye(2,p("$card")),padding:1},mark:{position:"relative",padding:fe(2,0)},firstMark:{paddingLeft:4,borderTopLeftRadius:4,borderBottomLeftRadius:4},lastMark:{paddingRight:4,borderTopRightRadius:4,borderBottomRightRadius:4},content:{margin:pe(12,0),paddingTop:2},removeIcon:{cursor:"pointer",position:"absolute",left:-8,top:-7,transform:"rotate(45deg)",fontSize:16,fontWeight:100,lineHeight:"initial",color:p("$neutralPrimary"),zIndex:1},iconUnderlay:{width:10,height:10,position:"absolute",left:-5,top:-3,background:p("$card")}}),Us=({model:e})=>{var R;const[a,n]=t.useState(null),[r,l]=t.useState((R=e.tags[0])==null?void 0:R.name),[i,o]=t.useState(),c=e.tags.reduce((N,v)=>(N.set(v.name,v.color),N),new Map),[s,d]=t.useState(e.items.reduce((N,{text:v,tag:E})=>(v.split(/(?=[^A-Za-z])/g).forEach(T=>{T.startsWith(" ")?(N.push({text:" ",tag:E}),N.push({text:T.substring(1),tag:E})):N.push({text:T,tag:E})}),N),[])),m=()=>{let N="",v;y.args[e.name]=s.reduce((E,{text:T,tag:M},z,X)=>(z===X.length-1?M!==v?(E.push({text:N,tag:v}),E.push({text:T,tag:M})):E.push({text:N+T,tag:M}):z!==0&&M!==v?(E.push({text:N,tag:v}),N=T):N+=T,v=M,E),[]),e.trigger&&y.push()},f=N=>()=>l(N),u=N=>v=>{var T;v.stopPropagation();const E=s[N].tag;for(let M=N;((T=s[M])==null?void 0:T.tag)===E;M++)s[M].tag=void 0;d([...s]),m()},g=N=>()=>n(N),x=N=>()=>{var T;const v=a;if(v===null)return;const E=Math.max(v,N);for(let M=Math.min(v,N);M<=E;M++)s[M].tag=r;m(),n(null),(T=window.getSelection())==null||T.removeAllRanges()},w=N=>()=>o(N),P=()=>o(null),b=(N,v)=>{var E,T,M;if(i===null||((E=s[i])==null?void 0:E.tag)!==v||((T=s[N-1])==null?void 0:T.tag)===v)return!1;if(N===i)return!0;for(let z=N;((M=s[z])==null?void 0:M.tag)===v;z++)if(z===i)return!0;return!1},h=(N,v,E)=>{var G,K;const T=c.get(E),M={visibility:b(v,E)?"visible":"hidden"},z=((G=s[v-1])==null?void 0:G.tag)!==E,X=((K=s[v+1])==null?void 0:K.tag)!==E;return t.createElement("mark",{onMouseOver:w(v),onMouseOut:P,className:D(De.mark,z?De.firstMark:"",X?De.lastMark:""),style:{backgroundColor:p(T),color:ra(T)}},N,t.createElement(Be,{iconName:"CircleAdditionSolid",styles:{root:M},className:D(De.removeIcon,"wave-w6"),onMouseUp:u(v)}),t.createElement("span",{style:M,className:De.iconUnderlay}))},$=e.tags.map(({name:N,color:v,label:E})=>{const T=L({tag:{background:p(v),color:ra(v)},activeTag:{border:ye(2,p("$themePrimary")),borderRadius:6}});return t.createElement("div",{key:N,"data-test":N,className:D(De.tagWrapper,r===N?T.activeTag:"")},t.createElement("div",{className:D(De.tag,T.tag,"wave-s12"),onClick:f(N)},E))});return t.useEffect(()=>{y.args[e.name]=e.items},[]),t.createElement("div",{"data-test":e.name},t.createElement("div",{className:D("wave-s16 wave-w6",De.title)},e.title),t.createElement("div",{className:De.tags},$),t.createElement("div",{className:D(De.content,"wave-s16 wave-t7 wave-w3")},s.map(({text:N,tag:v},E)=>t.createElement("span",{key:E,onMouseDown:g(E),onMouseUp:x(E)},v?h(N,E,v):N))))},Xs=({model:e})=>{const a=t.useCallback((n,r)=>{y.args[e.name]=!!r,e.trigger&&y.push()},[e.name,e.trigger]);return t.useEffect(()=>{y.args[e.name]=!!e.value},[]),t.createElement(di,{"data-test":e.name,label:e.label,defaultChecked:e.value,onChange:a,disabled:e.disabled,onText:"On",offText:"Off",inlineLabel:!0})},Ka=L({card:{display:"flex",flexDirection:"column",padding:24},body:{marginTop:16,flexGrow:1,display:"flex"},plot:{$nest:{canvas:{position:"absolute",top:0,left:0,right:0,bottom:0}}}}),gl=({model:e})=>{const a=t.useRef(null),n=t.useCallback(async()=>{const s=a.current;if(!s)return;const d=JSON.parse(e.specification);isNaN(d.height)?s.clientHeight<30&&(s.style.height="300px"):s.style.height=`${d.height+10}px`;const m=k.unpack(e.data),f=s.clientWidth-10,u=s.clientHeight-10;m&&(d.data={values:m});const{default:g}=await yn(()=>import("./vega-embed.module.189ae72f.js"),["static/vega-embed.module.189ae72f.js","static/vendor.de0ee777.js"]);g(s,d,{mode:"vega-lite",defaultStyle:!1,renderer:"canvas",actions:!1,config:{autosize:{type:"fit",resize:!0},view:{discreteWidth:f,discreteHeight:u,continuousWidth:f,continuousHeight:u}}}).catch(console.error)},[e.data,e.specification]),r=et(1e3,n),{name:l,width:i="auto",height:o="auto"}=e,c=i==="auto"&&o==="auto"?{flexGrow:1}:{width:ht(i),height:o};return t.useEffect(()=>{n()},[n,e]),t.useEffect(()=>(n(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[]),t.createElement("div",{"data-test":l,className:Ka.plot,style:ne(B({},c),{position:"relative"}),ref:a})},Gs=F(({name:e,state:a,changed:n})=>({render:()=>{const{specification:l,data:i,title:o}=a;return t.createElement("div",{"data-test":e,className:Ka.card},t.createElement("div",{className:"wave-s12 wave-w6"},o),t.createElement("div",{className:Ka.body},t.createElement(gl,{key:k.xid(),model:{specification:l,data:i}})))},changed:n}));V.register("vega",Gs);const qs=L({card:{display:"flex",flexDirection:"column",justifyContent:"center"}}),Qs=({name:e,label:a,caption:n,icon:r,items:l,value:i})=>{y.args[e]=!1;const o=()=>{if(e.startsWith("#")){window.location.hash=e.substr(1);return}y.args[e]=i===void 0||i,y.push()};return{key:e,text:a,ariaLabel:n||a,title:n,iconOnly:!a,iconProps:r?{iconName:r}:void 0,subMenuProps:l?{items:Lt(l)}:void 0,onClick:o}},Lt=e=>e.map(Qs),Ys=F(({name:e,state:a,changed:n})=>({render:()=>{const{items:l,overflow_items:i,secondary_items:o}=a,c=Lt(l),s=i?Lt(i):void 0,d=o?Lt(o):void 0;return t.createElement("div",{className:qs.card},t.createElement(on,{"data-test":e,items:c,overflowItems:s,overflowButtonProps:{ariaLabel:"More"},farItems:d,ariaLabel:"Use left and right arrow keys to navigate between commands."}))},changed:n}));V.register("toolbar",Ys,{effect:Ye.Transparent});const nr=L({card:{display:"inline-flex",alignItems:"center",cursor:"pointer",$nest:{"&:hover":{color:p("$themePrimary")},"&:hover button":{color:p("$themePrimary")}}},icon:{fontSize:18}}),Ks=({model:e})=>{const{name:a,items:n,icon:r,image:l}=e,i=t.useRef(null),[o,c]=t.useState(!0),s=()=>c(d=>!d);return t.createElement("div",{"data-test":a,className:D(nr.card,"w-menu"),ref:i,onClick:s},l&&t.createElement($r,{imageUrl:l,size:Ze.size48,styles:{details:{padding:0}}}),r&&t.createElement(ze,{className:nr.icon,iconName:r}),t.createElement(an,{items:Lt(n),target:i,hidden:o,onDismiss:s,isBeakVisible:!0,directionalHint:rn.bottomRightEdge,calloutProps:{styles:{beak:{border:ye(1,p("$neutralQuaternaryAlt"))}}},styles:{list:{border:ye(1,p("$neutralQuaternaryAlt"))}}}),t.createElement(nn,{iconProps:{iconName:"CaretSolidDown",styles:{root:{fontSize:12}}},styles:{root:{padding:0}}}))},rr=L({container:{display:"flex",justifyContent:"center"},tag:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:4,boxSizing:"border-box",minWidth:49,height:49,padding:"0 18px",marginRight:10}}),Js=({model:e})=>{const a=e.items.map((n,r)=>{const l=n.color||"$text",i=p(n.label_color||ra(l));return t.createElement("div",{key:r,style:{background:p(l),color:i},className:D(rr.tag,"wave-s18 wave-w6")},n.label)});return t.createElement("div",{className:rr.container},a)},Zs={items:[]},ta=L({card:{padding:15},vertical:{display:"flex",flexDirection:"column",flexGrow:1,$nest:{'> [data-visible="true"] ~ div':{marginTop:10}}},horizontal:{display:"flex",alignItems:"center",$nest:{'> [data-visible="true"] ~ div':{marginLeft:8}}},inset:{background:p("$page"),padding:fe(10,15)}}),ve=({items:e,alignment:a,inset:n})=>{const r=e.map((l,i)=>{const[o]=Object.keys(l),{name:c,visible:s=!0,width:d="auto"}=l[o],m=s?{}:{display:"none"},f=o==="links"?"flex-start":void 0;return t.createElement("div",{key:c||`${o}-${i}`,"data-visible":s,style:ne(B({},m),{width:d,alignSelf:f})},t.createElement(ec,{model:l}))});return t.createElement("div",{className:D(a?ta.horizontal:ta.vertical,n?ta.inset:""),style:{justifyContent:dn[a||""]}},r)},Ja=({model:e})=>t.createElement(ve,{items:e.items,alignment:e.justify||"start",inset:e.inset}),ec=({model:e})=>e.text?t.createElement(ae,{content:e.text.tooltip,expand:!1},t.createElement(lt,{name:e.text.name,content:e.text.content,size:e.text.size})):e.text_xl?t.createElement(ae,{content:e.text_xl.tooltip,expand:!1},t.createElement(lt,{name:e.text_xl.name,content:e.text_xl.content,size:"xl",commands:e.text_xl.commands})):e.text_l?t.createElement(ae,{content:e.text_l.tooltip,expand:!1},t.createElement(lt,{name:e.text_l.name,content:e.text_l.content,size:"l",commands:e.text_l.commands})):e.text_m?t.createElement(ae,{content:e.text_m.tooltip,expand:!1},t.createElement(lt,{name:e.text_m.name,content:e.text_m.content})):e.text_s?t.createElement(ae,{content:e.text_s.tooltip,expand:!1},t.createElement(lt,{name:e.text_s.name,content:e.text_s.content,size:"s"})):e.text_xs?t.createElement(ae,{content:e.text_xs.tooltip,expand:!1},t.createElement(lt,{name:e.text_xs.name,content:e.text_xs.content,size:"xs"})):e.label?t.createElement(ae,{content:e.label.tooltip,expand:!1},t.createElement(Bo,{model:e.label})):e.link?t.createElement(ae,{content:e.link.tooltip,expand:!1},t.createElement(ol,{model:e.link})):e.links?t.createElement(zo,{model:e.links}):e.separator?t.createElement(gs,{model:e.separator}):e.progress?t.createElement(ae,{content:e.progress.tooltip},t.createElement(us,{model:e.progress})):e.message_bar?t.createElement(Wo,{model:e.message_bar}):e.textbox?t.createElement(ae,{content:e.textbox.tooltip},t.createElement(js,{model:e.textbox})):e.checkbox?t.createElement(ae,{content:e.checkbox.tooltip,expand:!1},t.createElement(go,{model:e.checkbox})):e.toggle?t.createElement(ae,{content:e.toggle.tooltip,expand:!1},t.createElement(Xs,{model:e.toggle})):e.choice_group?t.createElement(ae,{content:e.choice_group.tooltip},t.createElement(yo,{model:e.choice_group})):e.dropdown?t.createElement(ae,{content:e.dropdown.tooltip},t.createElement(No,{model:e.dropdown})):e.checklist?t.createElement(ae,{content:e.checklist.tooltip},t.createElement(ho,{model:e.checklist})):e.combobox?t.createElement(ae,{content:e.combobox.tooltip},t.createElement(wo,{model:e.combobox})):e.slider?t.createElement(ae,{content:e.slider.tooltip},t.createElement(hs,{model:e.slider})):e.spinbox?t.createElement(ae,{content:e.spinbox.tooltip},t.createElement(xs,{model:e.spinbox})):e.date_picker?t.createElement(ae,{content:e.date_picker.tooltip},t.createElement($o,{model:e.date_picker})):e.color_picker?t.createElement(ae,{content:e.color_picker.tooltip},t.createElement(Eo,{model:e.color_picker})):e.file_upload?t.createElement(ae,{content:e.file_upload.tooltip},t.createElement(Po,{model:e.file_upload})):e.table?t.createElement(ae,{content:e.table.tooltip},t.createElement(Rs,{model:e.table})):e.buttons?t.createElement(uo,{model:e.buttons}):e.tabs?t.createElement(Fs,{model:e.tabs}):e.button?t.createElement(ae,{content:e.button.tooltip,showIcon:!1,expand:!1},t.createElement(po,{model:e.button})):e.expander?t.createElement(So,{model:B({},e.expander)}):e.frame?t.createElement(To,{model:e.frame}):e.markup?t.createElement(hn,{model:e.markup}):e.template?t.createElement(Ms,{model:e.template}):e.picker?t.createElement(ae,{content:e.picker.tooltip},t.createElement(Vo,{model:e.picker})):e.range_slider?t.createElement(ae,{content:e.range_slider.tooltip},t.createElement(ps,{model:e.range_slider})):e.stepper?t.createElement(ae,{content:e.stepper.tooltip},t.createElement(ks,{model:e.stepper})):e.visualization?t.createElement(bn,{model:e.visualization}):e.vega_visualization?t.createElement(gl,{model:e.vega_visualization}):e.stats?t.createElement(ws,{model:e.stats}):e.inline?t.createElement(Ja,{model:e.inline}):e.image?t.createElement(il,{model:e.image}):e.persona?t.createElement(Mt,{model:e.persona}):e.text_annotator?t.createElement(Us,{model:e.text_annotator}):e.mini_button?t.createElement(nl,{model:e.mini_button}):e.mini_buttons?t.createElement(fo,{model:e.mini_buttons}):e.facepile?t.createElement(_o,{model:e.facepile}):e.copyable_text?t.createElement(vo,{model:e.copyable_text}):e.menu?t.createElement(Ks,{model:e.menu}):e.tags?t.createElement(Js,{model:e.tags}):t.createElement(aa,{messageBarType:Me.severeWarning},"This component could not be rendered."),tc=F(({name:e,state:a,changed:n})=>({render:()=>{const l=B(B({},Zs),a),i=l.title,o=k.unpack(l.items);return t.createElement("div",{"data-test":e,className:ta.card},i&&t.createElement("div",{className:"wave-s12 wave-w6"},i),t.createElement(ve,{items:o}))},changed:n}));V.register("form",tc);const Pa=L({card:{padding:24,$nest:{".wave-markdown":{marginTop:12,$nest:{"&:first-child":{marginTop:0},"h1, h2, h3, h4, h5, h6":{marginBlock:0,color:p("$neutralPrimary")},h1:{margin:pe(18,0),fontSize:20,fontWeight:600,letterSpacing:"-0.017em",lineHeight:me(28)},h2:{margin:pe(12,0),fontSize:18,fontWeight:500,letterSpacing:"-0.014em",lineHeight:me(25.2)},h3:{margin:pe(8,0),fontSize:16,fontWeight:400,letterSpacing:"-0.011em",lineHeight:me(22.4)},p:{fontSize:14,letterSpacing:"-0.006em",lineHeight:me(20),color:p("$text7"),marginBlock:0}}}}},title:{color:p("$neutralPrimary")},miniBtns:{marginLeft:-4}}),ac=F(({name:e,state:a,changed:n})=>({render:()=>{const{title:l,content:i,items:o}=a;return t.createElement("section",{"data-test":e,className:Pa.card},t.createElement("div",{className:D("wave-s20 wave-w6",Pa.title)},l),o&&t.createElement("div",{className:Pa.miniBtns},t.createElement(ve,{items:o})),i&&t.createElement(_e,{source:i}))},changed:n}));V.register("article",ac);const nc=L({card:{display:"flex",flexDirection:"column",justifyContent:"center"}}),rc=F(({name:e,state:a,changed:n})=>{const r=a.items.map(({name:i,label:o})=>({key:i,text:o,onClick:()=>{if(i.startsWith("#")){window.location.hash=i.substr(1);return}y.args[i]=!0,y.push()}}));return{render:()=>t.createElement("div",{"data-test":e,className:nc.card},t.createElement(mi,{items:r,styles:{root:{margin:0}}})),changed:n}});V.register("breadcrumbs",rc,{effect:Ye.Transparent});class hl{constructor(a,n){this.x=a,this.y=n}}function lc(e,a){const n=e.x-a.x,r=e.y-a.y;return n*n+r*r}function ic(e,a,n){let r=a.x,l=a.y,i=n.x-r,o=n.y-l;if(i!==0||o!==0){const c=((e.x-r)*i+(e.y-l)*o)/(i*i+o*o);c>1?(r=n.x,l=n.y):c>0&&(r+=i*c,l+=o*c)}return i=e.x-r,o=e.y-l,i*i+o*o}const oc={x:0,y:0};function sc(e,a){let n=e[0],r=oc;const l=[n];for(let i=1,o=e.length;i<o;i++)r=e[i],lc(r,n)>a&&(l.push(r),n=r);return n!==r&&l.push(r),l}function Za(e,a,n,r,l){let i=r,o=0;for(let c=a+1;c<n;c++){const s=ic(e[c],e[a],e[n]);s>i&&(o=c,i=s)}i>r&&(o-a>1&&Za(e,a,o,r,l),l.push(e[o]),n-o>1&&Za(e,o,n,r,l))}function cc(e,a){const n=e.length-1,r=[e[0]];return Za(e,0,n,a,r),r.push(e[n]),r}function dc(e,a,n){if(e.length<=2)return e;const r=a!==void 0?a*a:1;return e=n?e:sc(e,r),e=cc(e,r),e}const lr=L({card:{display:"flex",flexDirection:"column",padding:re.gap,overflow:"auto"},layers:{position:"relative"}}),Gt=e=>{const a=new Array(e.length*2);let n=0;for(const r of e)a[n++]=r.x,a[n++]=r.y;return a},Da=e=>{const a=new Array(e.length/2);let n=0;for(let r=0,l=a.length;r<l;r++)a[r]=new hl(e[n++],e[n++]);return a},Ta=(e,a,n)=>{const r=document.createElement("canvas"),l=r.getContext("2d",{alpha:!0});if(!l)throw new Error("failed obtaining canvas context");const i=window.devicePixelRatio||1,o=l.webkitBackingStorePixelRatio||l.mozBackingStorePixelRatio||l.msBackingStorePixelRatio||l.oBackingStorePixelRatio||l.backingStorePixelRatio||1,c=i/o;return r.style.outline="1px solid #ccc",r.style.position="absolute",i!==o?(r.width=e*c,r.height=a*c,l.scale(c,c),r.style.width=me(e),r.style.height=me(a)):(r.width=e,r.height=a),{el:r,g:l,w:e,h:a,r:c}},mc=e=>{const a=e.toString(16);return a.length===1?`0${a}`:a},La=(()=>{const e=new Map;for(let a=0;a<256;a++)e.set(a,mc(a));return e})(),uc=(e,a,n)=>{let r=e;const l=new Map;return{put:s=>{const d=r++;r>=16581375&&(r=0),l.set(d,s);const m=d>>16&255,f=d>>8&255,u=d&255;return`#${La.get(m)}${La.get(f)}${La.get(u)}`},test:(s,d)=>{const m=a.getImageData(s*n,d*n,1,1).data;if(m[3]===255)return l.get((m[0]<<16)+(m[1]<<8)+m[2])},clear:()=>{l.clear(),r=e}}},pc=e=>e.charAt(0).toUpperCase()+e.slice(1),fc=(()=>{const e=[];for(const a in ja)e.push({name:pc(a),color:ja[a]});return e})(),gc=F(({name:e,state:a,changed:n})=>{const r=k.box([]),l=k.box([]),i=k.box(1),o=k.box("black"),c=k.box(3),s=k.box(),d=[["Fine",3],["Medium",5],["Bold",7]],m=t.createRef(),f=v=>{v.lineJoin="round",v.lineCap="round"},u=(v,E)=>v===E||v.x===E.x&&v.y===E.y,g=(v,E)=>{const T=c(),M=Math.floor(T/2);v.fillRect(E.x-M,E.y-M,T,T)},x=(v,E,T)=>{if(u(E,T)){g(v,E);return}v.beginPath(),v.moveTo(E.x,E.y),v.lineTo(T.x,T.y),v.stroke()},w=(v,E,T)=>{v.strokeRect(E.x,E.y,T.x-E.x,T.y-E.y)},P=(v,E,T)=>{v.fillRect(E.x,E.y,T.x-E.x,T.y-E.y)},b=(v,E)=>{switch(E.length){case 1:g(v,E[0]);return;case 2:x(v,E[0],E[1]);return;default:{v.beginPath();let T=E[0];v.moveTo(T.x,T.y);for(let M=1,z=E.length;M<z;M++)T=E[M],v.lineTo(T.x,T.y);v.stroke()}}},h=()=>{const v=m.current;if(!v){window.setTimeout(h,500);return}const{width:E,height:T}=a,M=Ta(E,T),z=Ta(E,T),X=Ta(E,T),G=M.el,K=M.g,oe=z.g,C=X.g;G.style.cursor="crosshair",v.appendChild(z.el),v.appendChild(G),f(K),f(oe);let W=[];const H=uc(0,C,X.r),Y=_=>_.clearRect(0,0,E,T),ie=(_,O,U)=>{_.set(`${e} data ${O}`,U)},ke=(_,O)=>{const U=y.fork();ie(U,_,O),U.push()},q=_=>{const O=y.fork();for(const U of _)ie(O,U,null);O.push()},te=_=>{W.length>1?W[1]=_:W.push(_)},J=(_,O)=>{const U=new hl(_,O);switch(i()){case 1:{W.push(U);const ee=W.length,be=W[ee-1];x(K,be,W.length===1?be:W[ee-2])}break;case 2:{if(te(U),W.length<2)return;Y(K),x(K,W[0],W[1])}break;case 3:{if(te(U),W.length<2)return;Y(K),w(K,W[0],W[1])}break;case 4:{if(te(U),W.length<2)return;Y(K),P(K,W[0],W[1])}break;default:{const ee=H.test(_,O);if(ee!==void 0){const be=r();ke(be[ee],null)}}}},Q=(_,O,U)=>{switch(_){case 1:return{t:1,p:Gt(dc(W,2,!0)),c:O,l:U};case 2:return W.length===2?{t:2,p:Gt(W),c:O,l:U}:void 0;case 3:return W.length===2?{t:3,p:Gt(W),c:O,l:U}:void 0;case 4:return W.length===2?{t:4,p:Gt(W),c:O}:void 0}},se=()=>{if(!W.length)return;const _=Q(i(),o(),c());_&&(Pe(_,0),ke(new Date().toISOString(),JSON.stringify(_))),W=[],Y(K)},Pe=(_,O)=>{switch(_.t){case 1:case 2:{const U=Da(_.p);oe.strokeStyle=_.c,oe.lineWidth=_.l,b(oe,U),C.strokeStyle=H.put(O),C.lineWidth=_.l,b(C,U)}break;case 3:{const U=Da(_.p),[ee,be]=U;oe.strokeStyle=_.c,oe.lineWidth=_.l,w(oe,ee,be),C.strokeStyle=H.put(O),C.lineWidth=_.l,w(C,ee,be)}break;case 4:{const U=Da(_.p),[ee,be]=U;oe.fillStyle=_.c,P(oe,ee,be),C.fillStyle=H.put(O),P(C,ee,be)}break}},S=_=>{Y(oe),Y(C),_.forEach(Pe)},A=_=>{const O=G.getBoundingClientRect();J(_.clientX-O.left,_.clientY-O.top)},j=()=>{G.removeEventListener("mousemove",A),G.removeEventListener("mouseup",j),G.removeEventListener("mouseout",j),se()};G.addEventListener("mousedown",_=>{A(_),G.addEventListener("mousemove",A),G.addEventListener("mouseup",j),G.addEventListener("mouseout",j)}),k.to(l,S),k.to(o,_=>{K.strokeStyle=_,K.fillStyle=_}),k.to(c,_=>{K.lineWidth=_}),k.on(s,()=>q(r()))},$=[{key:"tool",iconProps:{iconName:"Edit"},subMenuProps:{items:[{key:"pen",text:"Pen",iconProps:{iconName:"Edit"},onClick:()=>{i(1)}},{key:"line",text:"Line",iconProps:{iconName:"Line"},onClick:()=>{i(2)}},{key:"rect",text:"Rectangle",iconProps:{iconName:"RectangleShape"},onClick:()=>{i(3)}},{key:"solid_rect",text:"Solid Rectangle",iconProps:{iconName:"RectangleShapeSolid"},onClick:()=>{i(4)}}]}},{key:"color",iconProps:{iconName:"Color"},subMenuProps:{items:fc.map(({name:v,color:E})=>({key:E,text:v,iconProps:{iconName:"CircleFill",style:{color:E}},onClick:()=>{o(E)}}))}},{key:"lineWidth",iconProps:{iconName:"LineThickness"},subMenuProps:{items:d.map(([v,E])=>({key:v,text:v,iconProps:{iconName:"Edit"},onClick:()=>{c(E)}}))}},{key:"erase",iconProps:{iconName:"EraseTool"},onClick:()=>{i(0)}},{key:"clear",iconProps:{iconName:"Clear"},onClick:()=>{s(!0)}}],R=v=>{if(!v)return{};const E={};for(const T in v)E[T]=JSON.parse(v[T]);return E};return{init:h,render:()=>{const v=R(a.data),E=Object.keys(v).sort();return r(E),l(E.map(T=>v[T])),t.createElement("div",{"data-test":e,className:lr.card},t.createElement("div",{className:"wave-s12 wave-w6"},a.title),t.createElement("div",null,t.createElement(on,{items:$,ariaLabel:"Use left and right arrow keys to navigate between commands"})),t.createElement("div",{ref:m,className:lr.layers}))},changed:n}});V.register("canvas",gc);const Ke=L({card:{display:"flex",flexDirection:"column",padding:re.gap,overflow:"auto"},history:{flexGrow:1,overflow:"auto"},message:{padding:fe(6,0)},header:{marginBottom:2},user:{marginRight:5},date:{color:p("$text7")},body:{paddingLeft:10,borderLeft:ye(1,p("$text3"))}}),hc=({inputB:e})=>{const[a,n]=t.useState(""),r=t.useCallback((i,o)=>{n(o||"")},[]),l=({key:i,target:o},c)=>{if(i=="Enter"){let s=c!=null?c:o.value;if(!s)return;s=s.trim(),n(""),s.length&&e(s)}};return t.createElement(We,{label:"Send a message",multiline:!0,autoAdjustHeight:!0,onKeyUp:l,onChange:r,value:a})},yc=e=>{if(!e)return{};const a={};for(const n in e)a[n]=JSON.parse(e[n]);return a},vc=F(({name:e,state:a,changed:n})=>{let r=[];const l=t.createRef(),i=k.box("",()=>!1),o=()=>{const s=l.current;s&&(s.scrollTop=s.scrollHeight)},c=()=>{const s=yc(a.data),d=Object.keys(s).sort(),m=d.map(f=>{const{u,m:g}=s[f];return t.createElement("div",{key:`${u}|${f}|${g}`,className:Ke.message},t.createElement("div",{className:D("wave-s12",Ke.header)},t.createElement("span",{className:D("wave-w6",Ke.user)},u),t.createElement("span",{className:D("wave-s10",Ke.date)},new Date(f).toLocaleString())),t.createElement("div",{className:Ke.body},g))});return r=d,t.createElement("div",{"data-test":e,className:Ke.card},t.createElement("div",{className:"wave-s12 wave-w6"},a.title),t.createElement("div",{ref:l,className:Ke.history},m),t.createElement("div",null,t.createElement(hc,{inputB:i})))};return k.on(i,s=>{var g,x;const d=y.fork(),m=(g=a.capacity)!=null?g:50,f=r.length;if(f>=m)for(let w=0;w<f-m+1;w++)d.set(`${e} data ${r[w]}`,null);const u={u:(x=ca.username)!=null?x:"?",m:s};d.set(`${e} data ${new Date().toISOString()}`,JSON.stringify(u)),d.push()}),{render:c,init:o,update:o,changed:n}});V.register("chat",vc);const yl=[{view:"canvas",icon:"EditCreate",attrs:[{name:"box",optional:!1,t:"box",value:'{"zone":"Body"}'},{name:"title",optional:!1,t:"textbox",value:"Untitled Canvas"},{name:"width",optional:!1,t:"spinbox",value:400,min:400,max:2048,step:50},{name:"height",optional:!1,t:"spinbox",value:300,min:300,max:1536,step:50},{name:"data",optional:!1,t:"record",value:{}}]},{view:"chat",icon:"OfficeChat",attrs:[{name:"box",optional:!1,t:"box",value:'{"zone":"Body"}'},{name:"title",optional:!1,t:"textbox",value:"Untitled Chat"},{name:"data",optional:!1,t:"record",value:{}},{name:"capacity",optional:!0,t:"spinbox",value:50,min:10,max:1e4,step:10}]},{view:"frame",icon:"PageAdd",attrs:[{name:"box",optional:!1,t:"box",value:'{"zone":"Body"}'},{name:"title",optional:!1,t:"textbox",value:"Untitled Frame"},{name:"path",optional:!0,t:"textbox",value:""},{name:"content",optional:!0,t:"textarea",value:""}]},{view:"markdown",icon:"InsertTextBox",attrs:[{name:"box",optional:!1,t:"box",value:'{"zone":"Body"}'},{name:"title",optional:!1,t:"textbox",value:"Untitled Content"},{name:"content",optional:!1,t:"textarea",value:"Hello, World!"}]},{view:"markup",icon:"FileHTML",attrs:[{name:"box",optional:!1,t:"box",value:'{"zone":"Body"}'},{name:"title",optional:!1,t:"textbox",value:"Untitled Content"},{name:"content",optional:!1,t:"textarea",value:"<div/>"}]}],de=re.gap,bc=(e,a)=>{const n=(e==null?void 0:e.length)||0,r=(a==null?void 0:a.reduce((l,i)=>{var o,c;return l+(((c=(o=i.button)==null?void 0:o.label)==null?void 0:c.length)||0)+15},0))||0;return n+r>54},_t=k.box(null),xc=F(()=>{let e,a=null;const n=(c,s)=>c?Dn({from:{transform:s},to:{transform:"none"}}):Dn({from:{transform:"none"},to:{transform:s}}),r=(c="top-right",s)=>{if(window.innerWidth<500+de)return c.includes("top")?{top:0,right:0,left:0,margin:"0 auto",animationName:n(s,"translateY(-100%)")}:{bottom:0,right:0,left:0,margin:"0 auto",animationName:n(s,"translateY(100%)")};switch(c){case"top-right":return{top:de,right:de,animationName:n(s,`translateX(calc(100% + ${de}px))`)};case"top-center":return{top:de,right:0,left:0,margin:"0 auto",animationName:n(s,`translateY(calc(-100% - ${de}px))`)};case"top-left":return{top:de,left:de,animationName:n(s,`translateX(calc(-100% - ${de}px))`)};case"bottom-right":return{bottom:de,right:de,animationName:n(s,`translateX(calc(100% + ${de}px))`)};case"bottom-center":return{bottom:de,right:0,left:0,margin:"0 auto",animationName:n(s,`translateY(calc(100% + ${de}px))`)};case"bottom-left":return{bottom:de,left:de,animationName:n(s,`translateX(calc(-100% - ${de}px))`)}}},l=()=>{window.clearTimeout(e),a=_t(),_t(null)};return{render:()=>{var g;const c=_t(),s=!!c,d=c||a,m=B({position:"fixed",animationDuration:"0.5s",animationFillMode:"forwards",maxWidth:500,width:ce(100)},r(d==null?void 0:d.position,s)),f=(g=d==null?void 0:d.buttons)==null?void 0:g.filter(({button:x})=>x),u=bc(d==null?void 0:d.text,f);return!(f==null?void 0:f.length)&&s&&(e=window.setTimeout(l,(c==null?void 0:c.timeout)||5e3)),t.createElement(cl,{type:d==null?void 0:d.type,text:d==null?void 0:d.text,buttons:f,extraStyles:m,onDismiss:l,isMultiline:u})},notificationBarB:_t,dispose:()=>window.clearTimeout(e)}}),ut=k.box(null);var Ec=F(()=>{const e=()=>{const{name:n,events:r}=ut()||{};n&&(r==null||r.forEach(l=>{l==="dismissed"&&y.emit(n,l,!0)})),ut(null)};return{render:()=>{const{title:n,width:r="600px",items:l=[],closable:i,primary:o,blocking:c=!1}=ut()||{},s={title:n,onDismiss:e,showCloseButton:i,type:i?gt.close:o?gt.largeHeader:gt.normal};return t.createElement(ha,{hidden:!ut(),onDismiss:e,dialogContentProps:s,modalProps:{isBlocking:c},minWidth:r,maxWidth:r},t.createElement(ve,{items:l}))},dialogB:ut}});const wc=async e=>{if("Notification"in window)Notification.permission==="granted"?new Notification(e):Notification.permission!=="denied"&&await Notification.requestPermission()==="granted"&&new Notification(e);else return};let Aa=null;const ir={},or=e=>{Aa&&Aa.remove();const a=Aa=document.createElement("script");a.type="text/javascript",a.appendChild(document.createTextNode(e)),document.body.appendChild(a)},kc=e=>{let a=window;for(const n of e.split("."))if(a=a[n],!a)return!1;return!0},$c=e=>!e.some(a=>!kc(a)),Cc=e=>document.getElementById(e)||document.querySelector(e),Nc=e=>!e.some(a=>!Cc(a)),Sc=e=>{e.forEach(({path:a,asynchronous:n,cross_origin:r,referrer_policy:l,integrity:i})=>{if(ir[a])return;const o=document.createElement("script");o.type="text/javascript",o.src=a,n&&(o.async=!0),r&&(o.crossOrigin=r),l&&(o.referrerPolicy=l),i&&(o.integrity=i),document.body.appendChild(o),o.addEventListener("load",()=>{ir[a]=!0})})},_c=({content:e,requires:a,targets:n})=>{const r=()=>!(a&&a.length&&!$c(a)||n&&n.length&&!Nc(n));if(r()){or(e);return}let l=0;const i=setInterval(()=>{r()?(clearInterval(i),or(e)):(l++,l>100&&(clearInterval(i),console.error("Failed to execute inline script: one or more of the requirements were not found.")))},10)},pt=k.box(null);var Pc=F(()=>{const e=()=>{const{name:n,events:r}=pt()||{},l=r==null?void 0:r.find(i=>i==="dismissed");l&&n&&y.emit(n,l,!0),pt(null)};return{render:()=>{const{title:n,width:r="600px",items:l=[],closable:i=!1,blocking:o=!1}=pt()||{};return t.createElement(va,{isOpen:!!pt(),headerText:n,type:Pr.custom,customWidth:r,onDismiss:e,hasCloseButton:i,overlayProps:o?{style:{cursor:"default"}}:void 0,isBlocking:!0,isLightDismiss:!o},t.createElement(ve,{items:l}))},sidePanelB:pt}});let ua=null;const Dc=e=>{const a={};for(const n in e){const r=e[n];r&&(a[n]=n==="#"?r:!0)}return a},Tc=e=>{if(!!ua)switch(ua.type){case"ga":case"gtag":{const a=window;a.gtag&&a.gtag("event","sync",Dc(e))}}},Lc=e=>{if(!ua)switch(e.type){case"ga":case"gtag":{const a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=`https://www.googletagmanager.com/gtag/js?id=${e.id}`,document.body.appendChild(a),a.addEventListener("load",()=>{const n=window;n.dataLayer=n.dataLayer||[];function r(){n.dataLayer.push(arguments)}n.gtag=r,n.gtag("js",new Date),n.gtag("config",e.id)})}ua=e}};k.on(Ur,e=>window.setTimeout(()=>Tc(e),0));const vl=k.box(""),bl=k.box("");k.on(vl,e=>window.document.title=e);k.on(bl,e=>{const a=document.querySelector("link[rel*='icon']"),n=document.querySelector("link[rel*='apple-touch-icon']");a&&(a.href=e),n&&(n.href=e)});const xa=k.box([]),sr=({state:e})=>{const{title:a,icon:n,refresh:r,notification:l,notification_bar:i,redirect:o,layouts:c,dialog:s,side_panel:d,theme:m,themes:f,tracker:u,scripts:g,script:x,stylesheet:w,stylesheets:P}=e;if(o){try{const{location:b}=window,h=new URL(`${b.origin}${b.pathname}${o}`);o===h.hash?b.hash=o:b.replace(o)}catch(b){console.error(`Could not redirect: ${o} is an invalid URL`,b)}delete e.redirect}if(ut(s?B({},s):null),pt(d?B({},d):null),setTimeout(()=>_t(i?B({},i):null),0),a&&vl(a),n&&bl(n),typeof r=="number"&&r===0&&k.disconnect(),m&&cn(m),f&&Hr(f),l&&wc(l),u&&Lc(u),c&&xa(c),g&&Sc(g),x&&(delete e.script,_c(x)),w){const b=document.createElement("style"),{content:h,media:$}=w;b.innerText=h,$&&(b.media=$),document.head.appendChild(b),delete e.stylesheet}P&&(P.forEach(({path:b,media:h,cross_origin:$})=>{const R=document.createElement("link");R.rel="stylesheet",R.href=b,R.as="style",h&&(R.media=h),$&&(R.crossOrigin=$),document.head.appendChild(R)}),delete e.stylesheets)},Ac=F(()=>({render:()=>t.createElement(t.Fragment,null)}));V.register("meta",Ac);const Et=L({fab:{position:"fixed",right:20,bottom:20,width:56,height:56,color:p("$card"),background:p("$text"),borderRadius:"50%",fontSize:20,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0px 3px 5px ${p("$text0")}`,$nest:{"&:hover":{boxShadow:`0px 12px 20px ${p("$text2")}`}}},panelActions:{marginTop:10},cards:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"flex-start",alignContent:"flex-start"},card:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",margin:3,padding:3,border:ye(1,p("$text3")),$nest:{"&:hover":{backgroundColor:p("$text0")}}},cardIcon:{width:50,height:50,fontSize:22,display:"flex",justifyContent:"center",alignItems:"center",color:p("$text7")},cardCaption:{marginTop:5,fontSize:11,width:82,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"}}),Pt=e=>e.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" "),Bc=(e,a)=>{const n={};for(const r of e)n[a(r)]=r;return n},zc=Bc(yl,e=>e.view),en=e=>k.parseU(e.replace(/px$/,"")),xl=(e,a)=>{for(const n of a)n.zones?xl(e,n.zones):e.push(n.name)},El=()=>{const e=xa();return e&&e.length?e[0]:mn.layout},Rc=e=>{var a;return(a=ia.find(n=>n.layout.name===e.name))!=null?a:mn},Ic={root:{marginTop:15}},At=({children:e})=>t.createElement(ya,{styles:Ic},e),Fc={root:{marginTop:5,marginBottom:5},labelWrapper:{width:90}},ft=F(({label:e,defaultValue:a,min:n,max:r,step:l,onChange:i})=>{const o=f=>{const u=k.parseU(f);return isNaN(u)?0:u},c=f=>{i(o(f.target.value))},s=f=>{const u=Math.min(r,o(f)+l);return i(u),String(u)},d=f=>{const u=Math.max(n,o(f)-l);return i(u),String(u)};return{render:()=>t.createElement(Nr,{label:e,min:n,max:r,step:l,defaultValue:""+a,onBlur:c,onIncrement:s,onDecrement:d,styles:Fc})}}),cr=F(({view:e,card:a})=>{const{attrs:n}=zc[e],r=!a,l={},i={},o=[],c=El();xl(o,c.zones);for(const{name:P,value:b}of n)l[P]=i[P]=b;if(a){const{state:P}=a;for(const b in P)l[b]=i[b]=P[b]}let s=a?a.name:`${e}${new Date().toISOString()}`;const d=()=>{Ce(Dt)},m=()=>{const P=y.fork();if(r){const b=B(B({view:e},l),i);P.put(s,b)}else for(const b in i){const h=i[b];h!==l[b]&&P.set(`${s} ${b}`,h)}P.push(),Ce(Dt)},f=()=>{Ce(jr)},u=()=>{Ce(Dt)},g=({target:P},b)=>{s=b||P.value},x=()=>t.createElement(Ne,{horizontal:!0,tokens:{childrenGap:10}},t.createElement(Re,{onClick:m},r?"Add card":"Save changes"),t.createElement(Qe,{onClick:r?f:u},"Back"));return{render:()=>{const P=n.map(b=>{const{name:h}=b;switch(b.t){case"textbox":{const $=({target:R},N)=>{i[h]=N||R.value};return t.createElement(We,{key:h,label:Pt(h),defaultValue:i[h],onChange:$})}case"textarea":{const $=({target:R},N)=>{i[h]=N||R.value};return t.createElement(We,{key:h,label:Pt(h),defaultValue:i[h],multiline:!0,onChange:$,styles:{field:{minHeight:300}}})}case"spinbox":{const{min:$,max:R,step:N,value:v}=b,E=v<$?$:v>R?R:v,T=M=>{i[h]=M};return i[h]=E,t.createElement(ft,{key:h,label:Pt(h)+":",min:$,max:R,step:N,defaultValue:i[h],onChange:T})}case"record":return t.createElement("div",{key:h});case"box":{const $=o.map(H=>({key:H,text:H})),R=H=>{const Y=JSON.parse(i[h]);H(Y),i[h]=JSON.stringify(Y)},N=(H,Y)=>R(ie=>ie[H]=Y),v=H=>R(Y=>{delete Y[H]}),E=(H,Y)=>{Y&&N("zone",Y.key)},T=H=>{H?N("order",H):v("order")},M=H=>{H?N("size",`${H}`):v("size")},z=H=>{H?N("width",`${H}px`):v("width")},X=H=>{H?N("height",`${H}px`):v("height")},{zone:G,order:K,size:oe,width:C,height:W}=JSON.parse(i[h]);return t.createElement("div",{key:h},t.createElement(At,null,"Box"),t.createElement(ga,{label:"Zone",options:$,defaultSelectedKey:G,onChange:E}),t.createElement(ft,{defaultValue:K!=null?K:0,label:"Order:",min:0,max:25,step:1,onChange:T}),t.createElement(ft,{defaultValue:oe?k.parseU(oe):0,label:"Size:",min:0,max:25,step:1,onChange:M}),t.createElement(ft,{defaultValue:C?en(C):0,label:"Width (px):",min:0,max:1e4,step:10,onChange:z}),t.createElement(ft,{defaultValue:W?en(W):0,label:"Height (px):",min:0,max:1e4,step:10,onChange:X}),t.createElement(At,null,"Properties"))}}});return t.createElement(va,{headerText:r?"Add card":"Edit card",isOpen:!0,isLightDismiss:!0,onDismiss:d,onRenderFooterContent:x,isFooterAtBottom:!0},t.createElement(At,null,Pt(e)," Card"),r?t.createElement(We,{label:"Card Name",defaultValue:s,onChange:g}):null,t.createElement("div",null,P))}}}),Mc=F(({title:e,text:a,acceptCaption:n,cancelCaption:r,onAccept:l})=>{const i=k.box(!1),o=()=>{i(!0)},c=()=>{l(),i(!0)};return{render:()=>t.createElement(ha,{hidden:i(),onDismiss:o,dialogContentProps:{type:gt.normal,title:e,subText:a},modalProps:{styles:{main:{maxWidth:450}}}},t.createElement(ln,null,t.createElement(Qe,{onClick:o,text:r}),t.createElement(Re,{onClick:c,text:n}))),hiddenB:i}}),wl=F(({pageSetupB:e})=>{const a=e(),n=ia.map(({name:o})=>({key:o,text:o})),r=(o,c)=>{if(!c)return;const s=ia.find(d=>d.name===c.key);s&&(a.layoutDef=s,e(B({},a)))},l=o=>{a.width=o,e(B({},a))};return{render:()=>t.createElement(t.Fragment,null,t.createElement(ga,{label:"Page Layout",options:n,defaultSelectedKey:a.layoutDef.name,onChange:r}),t.createElement(ft,{defaultValue:a.width,label:"Page Width:",min:0,max:4e3,step:50,onChange:l}))}}),Wc=F(({visibleB:e})=>{const a=k.box({layoutDef:mn,width:0}),n=()=>{const{layoutDef:i,width:o}=a(),c=B({},i.layout),s=y.fork();o&&(c.width=`${o}px`),s.put("__editor__",{view:"editor",box:"",mode:"public"}),s.put("__meta__",{view:"meta",box:"",layouts:[c]}),s.push()},r=()=>{e(!1)};return{render:()=>t.createElement(ha,{hidden:!e(),onDismiss:r,dialogContentProps:{type:gt.largeHeader,title:"Edit this page?",subText:"Don't worry, you can always change these settings later."},modalProps:{isBlocking:!1,styles:{main:{maxWidth:450}}}},t.createElement(wl,{pageSetupB:a}),t.createElement(ln,null,t.createElement(Qe,{onClick:r,text:"Back to safety"}),t.createElement(Re,{onClick:n,text:"Start Editing"}))),visibleB:e}}),Hc=()=>{const e=oa();return e&&e.t===k.WaveEventType.Page?e.page:null},Oc=F(({name:e,changed:a})=>{const n=()=>{Ce(jr)},r=()=>{Ce(Dt)};return{render:()=>{let i=null;const o=Ce();switch(o.t){case mt.Add:i=t.createElement(cr,{view:o.view});break;case mt.Edit:{const c=Hc();if(c){const{name:s}=o,d=c.get(s);d&&(i=t.createElement(cr,{view:d.state.view,card:d}))}}break;case mt.Delete:{const{name:c}=o,s=()=>{const d=y.fork();d.del(c),d.push()};i=t.createElement(Mc,{key:k.xid(),title:"Delete Card?",text:"This card will be permanently deleted.",acceptCaption:"Delete Card",cancelCaption:"Don't delete",onAccept:s})}break;case mt.Pick:{const c=El(),s=k.box({layoutDef:Rc(c),width:c.width?en(c.width):0}),d=yl.map(({view:u,icon:g})=>{const x=()=>{Ce({t:mt.Add,view:u})};return t.createElement("div",{key:u,className:Et.card,onClick:x},t.createElement("div",{className:Et.cardIcon},t.createElement(ze,{iconName:g})),t.createElement("div",{className:Et.cardCaption},Pt(u)))}),m=()=>{const u=y.fork(),{layoutDef:g,width:x}=s(),w=B({},g.layout);x&&(w.width=`${x}px`),u.set("__meta__ layouts",[w]),u.push()},f=()=>t.createElement(Ne,{horizontal:!0,tokens:{childrenGap:10}},t.createElement(Re,{onClick:m},"Apply changes"));i=t.createElement(va,{headerText:"Edit this page",isLightDismiss:!0,onDismiss:r,isOpen:!0,onRenderFooterContent:f,isFooterAtBottom:!0},t.createElement(At,null,"Add Content"),t.createElement("div",{className:Et.cards},d),t.createElement(At,null,"Page Setup"),t.createElement(wl,{key:k.xid(),pageSetupB:s}))}break}return t.createElement(t.Fragment,null,t.createElement("div",{"data-test":e,className:Et.fab,onClick:n},t.createElement(ze,{iconName:"WindowEdit"})),i)},changed:a,editorActionB:Ce}});V.register("editor",Oc);const Vc=e=>{const a={display:"flex"},n=Oi[e.direction||""],r=dn[e.justify||""],l=Or[e.align||""],i=Vr[e.wrap||""];return n&&(a.flexDirection=n),r&&(a.justifyContent=r),l&&(a.alignItems=l),i&&(a.flexWrap="wrap",a.alignContent=i),a},jc=F(({name:e,state:a,changed:n})=>({render:()=>t.createElement("div",{"data-test":e,style:Vc(a)},t.createElement(pn,{view:a.item_view,props:a.item_props,data:a.data})),changed:n}));V.register("flex",jc);const Ba=L({card:{display:"flex",justifyContent:"space-between",padding:24},center:{margin:"0 auto",$nest:{".wave-markdown":{textAlign:"center"}}},caption:{$nest:{".wave-markdown>*:first-child":{marginTop:0}}}}),Uc=F(({name:e,state:a,changed:n})=>({render:()=>{const{caption:l,items:i}=a;return t.createElement("div",{"data-test":e,className:Ba.card},t.createElement("div",{className:D("wave-s13",Ba.caption,i?"":Ba.center)},t.createElement(_e,{source:l})),i&&t.createElement(ve,{items:i}))},changed:n}));V.register("footer",Uc,{effect:Ye.Transparent,marginless:!0});const Xc=e=>{const a=e._t||"u",n={};delete e._t;for(const r in e)n[r.replace(/_./g,l=>l.substr(1).toUpperCase())]=e[r];return[a,n]},za=(e,a)=>{const n=[];for(const r of a)n.push(e[r]);for(const r of a)delete e[r];return n},le=e=>e.split(/\s/g).map(a=>+a),it=(e,a,n)=>{const r=e.length,l=new Array(r);for(let i=0;i<r;i++)l[i]=n(e[i],a[i]);return l},qt=(e,a,n,r)=>{const l=e.length,i=new Array(l);for(let o=0;o<l;o++)i[o]=r(e[o],a[o],n[o]);return i},Gc={basis:pi,"basis-closed":fi,"basis-open":gi,cardinal:hi,"cardinal-closed":yi,"cardinal-open":vi,smooth:Tr,"smooth-closed":bi,"smooth-open":xi,linear:ba,"linear-closed":Ei,"monotone-x":wi,"monotone-y":ki,natural:$i,step:Lr,"step-after":Ar,"step-before":Br},Qt=()=>0,He=e=>e[0],Oe=e=>e[1],Yt=e=>e[2],qc=L({card:{position:"absolute",left:re.gap,top:re.gap,right:re.gap,bottom:re.gap}}),Qc=F(({name:e,state:a,changed:n})=>{const r=(i,o)=>{const[c,s]=Xc(i);switch(c){case"a":{const[d,m,f,u]=za(s,["r1","r2","a1","a2"]),g=na()({innerRadius:d,outerRadius:m,startAngle:f*Math.PI/180,endAngle:u*Math.PI/180});return t.createElement("path",ne(B({key:o},s),{d:g}))}case"c":return t.createElement("circle",B({key:o},s));case"e":return t.createElement("ellipse",B({key:o},s));case"i":return t.createElement("image",B({key:o},s));case"l":return t.createElement("line",B({key:o},s));case"p":return t.createElement("path",B({key:o},s));case"pg":return t.createElement("polygon",B({key:o},s));case"pl":return t.createElement("polyline",B({key:o},s));case"r":return t.createElement("rect",B({key:o},s));case"s":{const[d,m,f,u,g,x]=za(s,["x","y","x0","y0","curve","radial"]),w=Gc[g]||ba,P=x?u===""?Ot().angle(He).outerRadius(Oe).innerRadius(Qt).curve(w)(it(le(d),le(m),(b,h)=>[b,h])):u?Ot().angle(He).outerRadius(Yt).innerRadius(Oe).curve(w)(qt(le(d),le(u),le(m),(b,h,$)=>[b,h,$])):f===""?Ot().endAngle(He).startAngle(Qt).radius(Oe).curve(w)(it(le(d),le(m),(b,h)=>[b,h])):f?Ot().endAngle(Oe).startAngle(He).radius(Yt).curve(w)(qt(le(f),le(d),le(m),(b,h,$)=>[b,h,$])):ui().curve(w)(it(le(d),le(m),(b,h)=>[b,h])):u===""?St().x(He).y1(Oe).y0(Qt).curve(w)(it(le(d),le(m),(b,h)=>[b,h])):u?St().x(He).y1(Yt).y0(Oe).curve(w)(qt(le(d),le(u),le(m),(b,h,$)=>[b,h,$])):f===""?St().x1(He).x0(Qt).y(Oe).curve(w)(it(le(d),le(m),(b,h)=>[b,h])):f?St().x1(Oe).x0(He).y(Yt).curve(w)(qt(le(f),le(d),le(m),(b,h,$)=>[b,h,$])):Dr().curve(w)(it(le(d),le(m),(b,h)=>[b,h]));return t.createElement("path",ne(B({key:o},s),{d:P}))}case"t":{const[d]=za(s,["text"]);return t.createElement("text",B({key:o},s),d)}default:return t.createElement("use",B({key:o},s))}};return{render:()=>{const{view_box:i,width:o,height:c,stage:s,scene:d}=a,m=s?k.unpack(s).map(r):[],f=d?k.unpack(d).map(({d:u,o:g},x)=>r(B(B({},u?JSON.parse(u):{}),g?JSON.parse(g):{}),x)):[];return t.createElement("div",{"data-test":e,className:qc.card},t.createElement("svg",{viewBox:i,width:o,height:c},t.createElement("g",null,m),t.createElement("g",null,f)))},changed:n}});V.register("graphics",Qc);const Ra=L({card:{display:"flex",flexDirection:"column"},body:{flexGrow:1,overflow:"auto",$nest:{">*":{borderBottom:"1px solid var(--text1)",padding:"5px 0"}}},table:{width:"100%"}}),Yc=F(({name:e,state:a,changed:n})=>({render:()=>{let l=k.unpack(a.cells);Array.isArray(l)||(l=[{title:"Data"}]);const i=l.map((s,d)=>t.createElement("th",{key:d},s.title)),o=l.map(({view:s,props:d,value:m})=>({view:s,props:k.unpack(d),value:m})),c=k.unpack(a.data).map((s,d)=>{const m=o.map(({view:f,props:u,value:g},x)=>{if(g!=null)return t.createElement("td",null,t.createElement(Z,{data:s,format:g}));{const w={name:k.xid(),state:ne(B({},u),{view:f,data:s}),changed:k.box()};return t.createElement("td",null,t.createElement(Ft,{key:x,card:w}))}});return t.createElement("tr",{key:d},m)});return t.createElement("div",{"data-test":e,className:Ra.card},t.createElement("div",{className:"wave-s12 wave-w6"},a.title||"Untitled"),t.createElement("div",{className:Ra.body},t.createElement("table",{className:Ra.table},t.createElement("thead",null,t.createElement("tr",null,i)),t.createElement("tbody",null,c))))},changed:n}));V.register("grid",Yc);const Je=L({card:{display:"flex",flexDirection:"column"},title:{color:p("$themePrimary")},icon:{fontSize:56},header:{padding:fe(24,24,0),textAlign:"center"},img:{maxHeight:100},brand:{marginBottom:10},secondaryItems:{padding:24},persona:{$nest:{".ms-Persona":{flexDirection:"column",height:"auto"},".ms-Persona-details":{alignItems:"center",padding:0},".ms-Persona-primaryText":{fontWeight:500,marginTop:12}}}}),kl=({items:e,value:a,hideNav:n})=>{const r=e.map(l=>({name:l.label,collapseByDefault:l.collapsed,links:l.items.map(({name:i,label:o,icon:c,disabled:s,tooltip:d})=>({key:i,name:o,icon:c,disabled:s,title:d,style:s?{opacity:.7}:void 0,url:"",onClick:()=>{if(n&&n(),i.startsWith("#")){window.location.hash=i.substr(1);return}y.args[i]=!0,y.push()}}))}));return t.createElement(Ci,{groups:r,selectedKey:a})},Kc=F(({name:e,state:a,changed:n})=>({render:()=>{const{title:l,subtitle:i,icon:o,icon_color:c="$text",image:s,persona:d,secondary_items:m,color:f="card"}=a;return t.createElement("div",{"data-test":e,className:D(fn(el(f)),Je.card),style:{background:p(`$${f}`)}},t.createElement("div",{className:Je.header},(s||o)&&t.createElement("div",{className:Je.brand},s&&t.createElement("img",{src:s,className:Je.img}),o&&!s&&t.createElement(ze,{iconName:o,className:Je.icon,style:{color:p(c)}})),l&&t.createElement("div",{className:D("wave-s24 wave-w6",f==="card"?"wave-p9":"wave-c9")},l),i&&t.createElement("div",{className:D("wave-s13",f==="card"?"wave-t8":"wave-c8")},i),!s&&!o&&(d==null?void 0:d.persona)&&t.createElement("div",{className:Je.persona},t.createElement(Mt,{model:d.persona}))),t.createElement(kl,B({},a)),m&&t.createElement("div",{className:Je.secondaryItems,style:{marginTop:a.items.length?"auto":"initial"}},t.createElement(ve,{items:m})))},changed:n}));V.register("nav",Kc,{effect:Ye.Flat,marginless:!0});const Te=L({card:{position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between",padding:fe(10,15),$nest:{".ms-layer":{display:"none"}}},inline:{display:"flex",alignItems:"center",cursor:"default",zIndex:1},center:ne(B({},Ge()),{position:"absolute",top:0,left:0,bottom:0,right:0}),burger:B({cursor:"pointer",fontSize:ge(me(24)),width:25,height:40},Ge()),logo:{width:56,height:56,marginRight:15,borderRadius:2,cursor:"pointer"},icon:{fontSize:36,marginRight:15},title:{color:p("$themePrimary")},nudgeUp:{marginTop:-5}}),Jc=F(({items:e,isOpenB:a})=>{const n=()=>a(!1);return{render:()=>t.createElement(va,{isLightDismiss:!0,type:Pr.smallFixedNear,isOpen:a(),onDismiss:n,hasCloseButton:!1},t.createElement(kl,{items:e,hideNav:n})),isOpenB:a}}),Zc=F(({name:e,state:a,changed:n})=>{const r=k.box(!1),l=()=>r(!0),i=()=>window.location.hash="";return{render:()=>{const{title:c,subtitle:s,icon:d,icon_color:m,nav:f,items:u,image:g,secondary_items:x,color:w="primary"}=a;return t.createElement("div",{"data-test":e,className:D(Te.card,fn(el(w))),style:{background:w==="transparent"?"transparent":p(`$${w}`)}},t.createElement("div",{className:Te.inline},f&&t.createElement(ze,{onClick:l,className:D(Te.icon,Te.burger),iconName:"GlobalNavButton",style:{color:w==="primary"?p("$card"):void 0}}),g&&t.createElement(Ni,{src:g,className:Te.logo,imageFit:Si.centerCover,onClick:i}),d&&!g&&t.createElement(ze,{className:Te.icon,iconName:d,style:{color:p(m)}}),t.createElement("div",{className:Te.nudgeUp},t.createElement("div",{className:D(w!=="primary"?Te.title:"","wave-s24 wave-w5")},c),s&&t.createElement("div",{className:D(Te.nudgeUp,"wave-s12")},s))),x&&t.createElement("div",{className:Te.center},t.createElement(Ja,{model:{items:x}})),u&&t.createElement("div",{style:{zIndex:1,marginRight:a.commands?30:void 0}},t.createElement(Ja,{model:{items:u}})),f&&t.createElement(Jc,{items:f,isOpenB:r}))},changed:n}});V.register("header",Zc,{effect:Ye.Transparent,marginless:!0});const Ia=L({body:{position:"relative"},rail:{position:"absolute",width:"100%",opacity:.15},bar:{position:"absolute"}}),$l=({thickness:e,color:a,value:n})=>t.createElement("div",{className:Ia.body,style:{height:e}},t.createElement("div",{className:Ia.rail,style:{height:e,backgroundColor:a}}),t.createElement("div",{className:Ia.bar,style:{width:`${Math.round(n*100)}%`,height:e,backgroundColor:a}})),wt=L({card:{display:"flex",flexDirection:"column",justifyContent:"space-between",padding:re.gap},values:{display:"flex",justifyContent:"space-between"},aux_value:{color:"var(--text7)"},caption:{color:"var(--text5)"},captions:{display:"flex",justifyContent:"space-between",color:"var(--text7)"}}),ed=F(({name:e,state:a,changed:n})=>({render:()=>{const l=k.unpack(a.data);return t.createElement("div",{"data-test":e,className:wt.card},t.createElement(Z,{data:l,format:a.title,className:"wave-s12 wave-w6"}),t.createElement(Z,{data:l,format:a.caption,className:D(wt.caption,"wave-s13")}),t.createElement("div",null,t.createElement("div",{className:D(wt.values,"wave-s18 wave-w3")},t.createElement("div",null,t.createElement(Z,{data:l,format:a.value})),t.createElement(Z,{data:l,format:a.aux_value,className:wt.aux_value})),t.createElement($l,{thickness:2,color:p(a.plot_color),value:a.progress}),t.createElement("div",{className:D(wt.captions,"wave-s12")},t.createElement("div",null,t.createElement(Z,{data:l,format:a.value_caption})),t.createElement("div",null,t.createElement(Z,{data:l,format:a.aux_value_caption})))))},changed:n}));V.register("large_bar_stat",ed);const Kt=L({card:{display:"flex",flexDirection:"column",padding:15},values:{display:"flex",alignItems:"baseline"},aux_value:{marginLeft:5,color:"var(--text6)"},caption:{color:"var(--text5)"}}),td=F(({name:e,state:a,changed:n})=>({render:()=>t.createElement("div",{"data-test":e,className:Kt.card},t.createElement(Z,{data:a.data,format:a.title,className:"wave-s12 wave-w6"}),t.createElement("div",{className:Kt.values},t.createElement(Z,{data:a.data,defaultValue:a.value,format:a.value,className:"wave-s40 wave-w2"}),t.createElement(Z,{data:a.data,format:a.aux_value,className:Kt.aux_value})),t.createElement(Z,{data:a.data,format:a.caption,className:D(Kt.caption,"wave-s13")})),changed:n}));V.register("large_stat",td);const dr=L({card:{display:"flex",flexDirection:"column"},body:{flexGrow:1,overflow:"auto",$nest:{">*":{borderBottom:"1px solid var(--text1)",padding:"5px 0"}}}}),ad=F(({name:e,state:a,changed:n})=>({render:()=>t.createElement("div",{"data-test":e,className:dr.card},t.createElement("div",{className:"wave-s12 wave-w6"},a.title),t.createElement("div",{className:dr.body},t.createElement(pn,{view:a.item_view,props:a.item_props,data:a.data}))),changed:n}));V.register("list",ad);const kt=L({item:{display:"flex",justifyContent:"space-between"},left:{flexDirection:"column"},right:{flexDirection:"column"},caption:{color:p("text5")},aux_value:{color:p("text5")}}),nd={title:"Untitled"},rd=F(({name:e,state:a,changed:n})=>({render:()=>{const l=B(B({},nd),a),i=k.unpack(l.data);return t.createElement("div",{"data-test":e,className:kt.item},t.createElement("div",{className:kt.left},t.createElement(Z,{data:i,format:l.title,className:"wave-s12 wave-w6"}),t.createElement(Z,{data:i,format:l.caption,className:D(kt.caption,"wave-s13")})),t.createElement("div",{className:kt.right},t.createElement(Z,{data:i,format:l.value,className:"wave-s12"}),t.createElement(Z,{data:i,format:l.aux_value,className:D(kt.aux_value,"wave-s13")})))},changed:n}));V.register("list_item1",rd);const ld=F(({name:e,state:a,changed:n})=>({render:()=>t.createElement("div",{"data-test":e},t.createElement("pre",null,JSON.stringify(a,null,2))),changed:n}));V.register("",ld);const Rt=20,mr=Rt*16,id="#ffffff #bfbfbf #808080 #404040 #000000 #6699ff #3366cc #003399 #99cc33 #00cc00 #669900 #ffcc00 #ff9900 #ff6600 #cc0000".split(/\s+/g),ot=L({card:{display:"flex",flexDirection:"column",padding:re.gap},canvas:{display:"flex",flexWrap:"wrap",width:mr,height:mr},swatches:{paddingTop:10,marginTop:15,borderTop:"1px solid #ccc"},pixel:{display:"inline-block",width:Rt,height:Rt}}),od=e=>{const a=Math.floor(e/16),n=e%16,r=n%2===1;return a%2===0?r?"#fff":"#ddd":r?"#ddd":"#fff"},sd=F(({name:e,state:a,changed:n})=>{let r="#000";const l=o=>{const c=y.fork();c.set(`${e} data ${o}`,r==="none"?null:[r]),c.push()};return{render:()=>{const o=k.unpack(a.data),c=id.map((d,m)=>t.createElement("div",{key:m,className:ot.pixel,style:{backgroundColor:d},onClick:()=>r=d})),s=o.map((d,m)=>{const f=d?d.color:od(m);return t.createElement("div",{key:m,className:ot.pixel,style:{backgroundColor:f},onClick:()=>l(m)})});return t.createElement("div",{"data-test":e,className:ot.card},t.createElement("div",{className:"wave-s12 wave-w6"},a.title),t.createElement("div",{className:ot.canvas},s),t.createElement("div",{className:ot.swatches},t.createElement("div",{className:ot.pixel},t.createElement("svg",{onClick:()=>r="none",viewBox:"0 0 433.25 433.25",width:Rt,height:Rt},t.createElement("path",{d:"M418.4,192.331c19.8-19.8,19.8-51.9,0-71.7l-0.1-0.1l-78.6-78.3c-19.8-19.8-51.9-19.7-71.8,0l-169.5,169.6l-54.2,54.1 c-19.8,19.7-19.8,51.8-0.1,71.6l48.3,48.3H10c-5.5,0-10,4.5-10,10s4.5,10,10,10h297.4c5.5,0,10-4.5,10-10s-4.5-10-10-10H225 l23.9-23.7L418.4,192.331z M196.7,385.831h-76.1l-62.3-62.4c-12-12-11.9-31.4,0-43.4l47.1-47l122.2,122L196.7,385.831z M119.6,218.931l162.5-162.5c12-12,31.5-12,43.5,0l78.6,78.4c12,12,12,31.4,0,43.5l-162.4,162.8L119.6,218.931z"}))),c))},changed:n}});V.register("pixel_art",sd);const Cl=2,$t=L({card:{display:"flex",flexDirection:"column"},content:{padding:Mr},img:{flexGrow:1,minHeight:150,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},persona:{marginBottom:16,$nest:{".ms-Persona":{flexDirection:"column",height:"auto"},".ms-Persona-image":{border:ye(Cl,p("$neutralTertiary"))},".ms-Persona-details":{alignItems:"center",padding:0},".ms-Persona-primaryText":{fontWeight:500,marginTop:12,color:p("$neutralPrimary")}}},items:{marginTop:16}}),cd=F(({name:e,state:a,changed:n})=>{const r=({size:i="m"})=>{const o=-Mr-Cl;switch(i){case"xs":return o-24;case"s":return o-28;case"m":return o-36;case"l":return o-50;case"xl":return o-60}};return{render:()=>{const{image:i,persona:o,items:c,height:s}=a;return t.createElement("div",{"data-test":e,className:$t.card},t.createElement("div",{className:$t.img,style:{backgroundImage:`url('${i}')`}}),t.createElement("div",{className:$t.content,style:{height:s}},o.persona&&t.createElement("div",{className:$t.persona,style:{marginTop:r(o.persona)}},t.createElement(Mt,{model:o.persona})),c&&t.createElement("div",{className:$t.items},t.createElement(ve,{items:c}))))},changed:n}});V.register("profile",cd);const st=L({card:{display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",padding:24,paddingBottom:16,marginTop:-4,$nest:{".ms-Persona-primaryText":{fontSize:16,lineHeight:me(22),fontWeight:500},".ms-Persona-secondaryText":{fontSize:14,lineHeight:me(20),color:p("$text7")},".ms-Persona-image":{height:"40px !important",width:"40px !important"},".ms-Persona-imageArea":{height:"40px !important",width:"40px !important"}}},aux_value:{marginBottom:5},content:{padding:24,paddingTop:16},img:{flexGrow:1,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},items:{marginTop:12}}),dd=F(({name:e,state:a,changed:n})=>({render:()=>{const{persona:l,image:i,aux_value:o,caption:c,items:s}=a;return l.persona&&(l.persona.size="xs"),t.createElement("div",{"data-test":e,className:st.card},t.createElement("div",{className:st.header},l.persona&&t.createElement(Mt,{model:l.persona}),o&&t.createElement("div",{className:D("wave-s12 wave-t7",st.aux_value)},o)),t.createElement("div",{className:st.img,style:{backgroundImage:`url('${i}')`}}),(c||s)&&t.createElement("div",{className:st.content},c&&t.createElement("div",{className:"wave-s14 wave-w4 wave-t7"},c),s&&t.createElement("div",{className:st.items},t.createElement(ve,{items:s}))))},changed:n}));V.register("post",dd);const Ct=L({card:{display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},clickable:{cursor:"pointer"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},content:{padding:24,paddingBottom:0,color:p("$text")},items:{$nest:{"& .ms-Icon, & .ms-Button-label":{color:p("$text")}}}}),md=F(({name:e,state:a,changed:n})=>({render:()=>{const{image:l,title:i,name:o,label:c,caption:s,items:d}=a,m=()=>{if(o.startsWith("#")){window.location.hash=o.substr(1);return}y.args[o]=o,y.push()};return t.createElement("div",{"data-test":e,onClick:o&&!c?m:void 0,className:D(Ct.card,o&&!c?Ct.clickable:""),style:{backgroundImage:`url('${l}')`}},t.createElement("div",{className:Ct.content,style:{background:p("$card7"),boxShadow:`0px 6px 30px 30px ${p("$card7")}`}},t.createElement("div",{className:Ct.header},i&&t.createElement("div",{className:"wave-s20 wave-w6"},i),d&&t.createElement("div",{className:Ct.items},t.createElement(ve,{items:d}))),s&&t.createElement("div",{className:"wave-s14 wave-t8"},s)),c&&t.createElement(Re,{onClick:m,text:c,styles:{root:{margin:"0 24px 24px 0",alignSelf:"flex-end"}}}))},changed:n}));V.register("preview",md);const ud=F(({name:e,state:a,changed:n})=>({render:()=>t.createElement("div",{"data-test":e},t.createElement(pn,{view:a.item_view,props:a.item_props,data:a.data})),changed:n}));V.register("repeat",ud);const Fa=L({card:{display:"flex",paddingTop:5},rhs:{flexGrow:1,marginLeft:15},subtitle:{$nest:{">div>p":{margin:0}}}}),pd=F(({name:e,state:a,changed:n})=>({render:()=>{const{title:l,subtitle:i,items:o}=a,c=k.unpack(o),s=o&&t.createElement("div",{className:Fa.rhs},t.createElement(ve,{items:c,alignment:"end"}));return t.createElement("div",{"data-test":e,className:Fa.card},t.createElement("div",null,t.createElement("div",{className:"wave-s14 wave-w6"},l),t.createElement("div",{className:D(Fa.subtitle,"wave-s12")},t.createElement(_e,{source:i}))),s)},changed:n}));V.register("section",pd,{effect:Ye.Transparent});const fd={linear:ba,smooth:Tr,step:Lr,"step-after":Ar,"step-before":Br},gd=L({container:{width:"100%",height:"100%",position:"relative",flexGrow:1,minHeight:32}}),En=({value:e,color:a,data:n,zeroValue:r,curve:l})=>{const i=t.useRef(null),[o,c]=t.useMemo(()=>{let[u,g]=zr(n,x=>x[e]);return r!=null&&(u=Math.min(r,u),g=Math.max(r,g)),[u,g]},[n,e,r]),[s,d]=t.useState(null),m=t.useCallback(()=>{if(!i.current)return;const{width:u,height:g}=i.current.getBoundingClientRect();if(!g){setTimeout(m,300);return}const x=Va().domain([0,n.length-1]).range([0,u]),w=Va().domain([o,c]).range([g,2]),P=fd[l]||ba,b=Dr().defined($=>$&&$[e]!=null).x(($,R)=>x(R)).y($=>w($[e])).curve(P),h=St().defined($=>$&&$[e]!=null).x(($,R)=>x(R)).y0($=>w(r==null?o:r)).y1($=>w($[e])).curve(P);d(t.createElement("svg",{viewBox:`0 0 ${u} ${g}`,style:{position:"absolute",top:0,left:0,right:0,bottom:0}},t.createElement("path",{d:h(n),fill:a,fillOpacity:"0.1",strokeLinejoin:"round",strokeLinecap:"round"}),t.createElement("path",{d:b(n),fill:"none",stroke:a,strokeWidth:"1.5",strokeLinejoin:"round",strokeLinecap:"round"})))},[a,l,n,c,o,e,r]),f=et(1e3,m);return t.useEffect(()=>(window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)),[]),t.useLayoutEffect(m,[e,a,n,r,l,o,c,m]),t.createElement("div",{ref:i,className:gd.container},s)},hd=L({container:{width:"100%",height:"100%",position:"relative",flexGrow:1,minHeight:32}}),wn=({value:e,category:a="x",color:n,data:r,zeroValue:l})=>{const i=t.useRef(null),[o,c]=t.useState(null),[s,d]=t.useMemo(()=>{let[u,g]=zr(r,x=>x[e]);return l!=null&&(u=Math.min(l,u),g=Math.max(l,g)),[u,g]},[r,e,l]),m=t.useCallback(()=>{if(!i.current)return;const{width:u,height:g}=i.current.getBoundingClientRect();if(!g){setTimeout(m,300);return}const x=_i().domain(r.map(b=>b[a])).range([0,u]).paddingInner(.1),w=Va().domain([s,d]).range([g,0]),P=r.map((b,h)=>{const $=x(b[a]),R=w(b[e]);return t.createElement("rect",{key:h,fill:n,x:$,y:R,width:2,height:g-R})});c(t.createElement("svg",{viewBox:`0 0 ${u} ${g}`,style:{position:"absolute",top:0,left:0,right:0,bottom:0}},P))},[a,n,r,d,s,e]),f=et(1e3,m);return t.useEffect(()=>(window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)),[]),t.useLayoutEffect(m,[e,a,n,r,l,s,d,m]),t.createElement("div",{ref:i,className:hd.container},o)},ur=L({card:{display:"flex",flexDirection:"column"},text:{display:"flex",justifyContent:"space-between",padding:fe(8,re.gap)}}),yd=F(({name:e,state:a,changed:n})=>({render:()=>{const l=k.unpack(a.data),i=a.plot_type==="interval"?t.createElement(wn,{data:k.unpack(a.plot_data),category:a.plot_category,value:a.plot_value,color:p(a.plot_color),zeroValue:a.plot_zero_value}):t.createElement(En,{data:k.unpack(a.plot_data),value:a.plot_value,color:p(a.plot_color),zeroValue:a.plot_zero_value,curve:a.plot_curve||"linear"});return t.createElement("div",{"data-test":e,className:ur.card},t.createElement("div",{className:ur.text},t.createElement(Z,{data:l,format:a.title||"Untitled",className:"wave-s12 wave-w6"}),t.createElement(Z,{data:l,format:a.value,className:"wave-s12"})),i)},changed:n}));V.register("small_series_stat",yd);const pr=L({card:{display:"flex",flexDirection:"column",padding:re.gap},value:{lineHeight:"28px"}}),vd=F(({name:e,state:a,changed:n})=>({render:()=>{const l=k.unpack(a.data);return t.createElement("div",{"data-test":e,className:pr.card},t.createElement(Z,{data:l,format:a.title,className:"wave-s12 wave-w6"}),t.createElement(Z,{data:l,format:a.value,className:D(pr.value,"wave-s24 wave-w3")}))},changed:n}));V.register("small_stat",vd);const Le=L({card:{display:"flex",flexDirection:"column",padding:15},items:{overflow:"auto",flexGrow:1,marginTop:"1em"},item:{display:"flex",justifyContent:"space-between",borderBottom:"1px solid #ddd",padding:"0.5em 0",$nest:{"&:last-child":{borderBottom:"none"}}},icon:{padding:"0.2em 0.5em 0em 0.1em"},lhs:{flexGrow:1},rhs:{textAlign:"right"},caption:{opacity:.7},auxValue:{opacity:.7},clickable:{cursor:"pointer",$nest:{"&:hover":{backgroundColor:"#fafafa"}}}}),bd=F(({name:e,state:a,changed:n})=>({render:()=>{const{name:l,title:i,subtitle:o,items:c}=a,s=c.map(({name:d,label:m,caption:f,value:u,value_color:g,aux_value:x,icon:w,icon_color:P},b)=>{const h=d?()=>Xr(l,d):void 0;return t.createElement("div",{key:d!=null?d:`${b}:${m}`,className:h?D(Le.item,Le.clickable):Le.item,onClick:h},w&&t.createElement("div",{className:Le.icon,style:P?{color:p(P)}:void 0},t.createElement(ze,{iconName:w})),t.createElement("div",{className:Le.lhs},t.createElement("div",{className:"wave-s12 wave-w6"},m),f&&t.createElement("div",{className:D(Le.caption,"wave-s12")},f)),t.createElement("div",{className:Le.rhs},u&&t.createElement("div",{className:"wave-s13 wave-w6",style:g?{color:p(g)}:void 0},u),x&&t.createElement("div",{className:D(Le.auxValue,"wave-s12")},x)))});return t.createElement("div",{"data-test":e,className:Le.card},t.createElement("div",{className:"wave-s12 wave-w6"},i),o&&t.createElement("div",{className:"wave-s12"},o),t.createElement("div",{className:Le.items},s))},changed:n}));V.register("stat_list",bd);const Ve=L({card:{display:"flex",flexDirection:"column",padding:15,overflow:"auto"},items:{flexGrow:1,overflow:"auto",marginTop:"1em"},table:{borderSpacing:0,width:"100%",$nest:{tbody:{$nest:{th:{borderTop:"1px solid #ddd",textAlign:"left",padding:"0.5em 1em 0.5em 0"},td:{borderTop:"1px solid #ddd",padding:"0.5em 0 0.5em 1em"}}},td:{textAlign:"right",verticalAlign:"top"}}},thead:{opacity:.4,$nest:{th:{textAlign:"right",width:"1%",whiteSpace:"nowrap",padding:"0.5em 0 0.5em 1em"},"th:first-child":{textAlign:"left",width:"100%",padding:"0.5em 1em 0.5em 0"}}},header:{display:"flex"},caption:{opacity:.7},icon:{padding:"0.2em 0.5em 0em 0.1em"},clickable:{cursor:"pointer",$nest:{"&:hover":{backgroundColor:p("$themeLighter"),color:p("$themeDarker")}}}}),xd=F(({name:e,state:a,changed:n})=>({render:()=>{const{name:l,title:i,columns:o,subtitle:c,items:s}=a,d=o.map((f,u)=>t.createElement("th",{key:`${u}:${f}`},f)),m=s.map(({name:f,label:u,values:g,caption:x,icon:w,icon_color:P},b)=>{const h=f?()=>Xr(l,f):void 0,$=g.map((R,N)=>t.createElement("td",{key:`${N}:${R}`},R));return t.createElement("tr",{key:f!=null?f:`${b}:${u}`,className:h?Ve.clickable:void 0,onClick:h},t.createElement("th",{key:"label"},t.createElement("div",{className:Ve.header},w&&t.createElement("div",{className:Ve.icon,style:P?{color:p(P)}:void 0},t.createElement(ze,{iconName:w})),t.createElement("div",null,t.createElement("div",{className:"wave-w6"},u),x&&t.createElement("div",{className:D(Ve.caption,"wave-s12 wave-w4")},x)))),$)});return t.createElement("div",{"data-test":e,className:Ve.card},t.createElement("div",{className:"wave-s12 wave-w6"},i),c&&t.createElement("div",{className:"wave-s12"},c),t.createElement("div",{className:Ve.items},t.createElement("table",{className:D(Ve.table,"wave-s13")},t.createElement("thead",{className:D(Ve.thead,"wave-w6")},t.createElement("tr",null,d)),t.createElement("tbody",null,m))))},changed:n}));V.register("stat_table",xd);const Ed=L({card:{display:"flex",flexDirection:"column",justifyContent:"center",minHeight:46}}),wd=F(({name:e,state:a,changed:n})=>{const r=i=>{const o=i==null?void 0:i.props.itemKey;if(!!o){if(o.startsWith("#")){window.location.hash=o.substr(1);return}a.name?y.args[a.name]=o:y.args[o]=!0,y.push()}};return{render:()=>{const i=a.link?"links":"tabs",o=a.items.map(({name:c,label:s,icon:d})=>t.createElement(Sr,{key:c,itemKey:c,headerText:s,itemIcon:d}));return t.createElement("div",{"data-test":e,className:Ed.card},t.createElement(_r,{linkFormat:i,onLinkClick:r,defaultSelectedKey:a.value},o))},changed:n}});V.register("tab",wd,{effect:Ye.Transparent});const ct=L({card:{display:"flex",flexDirection:"column"},clickable:{cursor:"pointer"},header:{position:"absolute",left:0,bottom:0,right:0,padding:24,paddingBottom:16,color:p("$neutralPrimary"),display:"flex",justifyContent:"space-between",alignItems:"center"},content:{marginBottom:16,$nest:{"&:first-child":{marginTop:0},"h1, h2, h3, h4, h5, h6":{marginBlock:0,color:p("$neutralPrimary")},h1:{margin:pe(18,0),fontSize:20,fontWeight:600,letterSpacing:"-0.017em",lineHeight:me(28)},h2:{margin:pe(12,0),fontSize:18,fontWeight:500,letterSpacing:"-0.014em",lineHeight:me(25.2)},h3:{margin:pe(8,0),fontSize:16,fontWeight:400,letterSpacing:"-0.011em",lineHeight:me(22.4)},p:{fontSize:14,letterSpacing:"-0.006em",lineHeight:me(20),color:p("$text7"),marginBlock:0}}},body:{margin:pe(16,24,24,24)},img:{position:"relative",flexGrow:1,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),kd=F(({name:e,state:a,changed:n})=>{const{title:r,subtitle:l,image:i,name:o,items:c,content:s,value:d}=a,m=()=>{if(!!o){if(o.startsWith("#")){window.location.hash=o.substr(1);return}y.args[o]=o,y.push()}},f=()=>{const{r:g,g:x,b:w}=Xe(qe("$card"))||{r:255,g:255,b:255};return`linear-gradient(rgba(${g}, ${x}, ${w}, 0) 0%, rgba(${g}, ${x}, ${w}, 0.5) 50%, ${p("$card")} 100%)`};return{render:()=>t.createElement("div",{"data-test":e,onClick:m,className:D(ct.card,o?ct.clickable:"")},t.createElement("div",{className:ct.img,style:{backgroundImage:`url('${i}')`}},t.createElement("div",{className:ct.header,style:{background:f()}},t.createElement("div",null,t.createElement("div",{className:"wave-s20 wave-w6"},r),l&&t.createElement("div",{className:"wave-s14 wave-w4 wave-t8"},l)),d&&t.createElement("div",{className:"wave-s16"},d))),(s||c)&&t.createElement("div",{className:ct.body},s&&t.createElement("div",{className:ct.content},t.createElement(_e,{source:s})),c&&t.createElement(ve,{items:c}))),changed:n}});V.register("tall_article_preview",kd);const Jt=L({card:{display:"flex",flexDirection:"column",padding:re.gap,position:"relative"},body:{position:"relative",display:"flex",flexGrow:1},value_overlay:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},aux_value:{color:"var(--text7)"}}),$d=F(({name:e,state:a,changed:n})=>({render:()=>{const l=k.unpack(a.data);return t.createElement("div",{"data-test":e,className:Jt.card},t.createElement(Z,{data:l,format:a.title,className:"wave-s12 wave-w6"}),t.createElement("div",{className:Jt.body},t.createElement(xn,{thickness:2,color:p(a.plot_color),value:a.progress}),t.createElement("div",{className:Jt.value_overlay},t.createElement(Z,{data:l,format:a.value,className:"wave-s24 wave-w3"}),t.createElement(Z,{data:l,format:a.aux_value,className:D(Jt.aux_value,"wave-s12")}))))},changed:n}));V.register("tall_gauge_stat",$d);const Cd={root:{fontSize:48,color:p("$neutralPrimary")}},Ie=L({card:{padding:24},imgContainer:B({},Ge()),textContainer:{textAlign:"center"},clickable:{cursor:"pointer"},header:{marginTop:16,marginBottom:8},title:{color:p("$neutralPrimary")},category:{marginTop:-2,color:p("$themeDark")},iconWrapper:B({background:p("$text1"),height:80,width:80,boxSizing:"border-box",borderRadius:ce(50)},Ge()),img:{flexGrow:1,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),Nd=F(({name:e,state:a,changed:n})=>{const{title:r,caption:l,icon:i,image:o,category:c,name:s,image_height:d="150px",label:m}=a,f=()=>{if(s.startsWith("#")){window.location.hash=s.substr(1);return}y.args[s]=s,y.push()};return{render:()=>t.createElement("div",{"data-test":e,onClick:s&&!m?f:void 0,className:D(Ie.card,s&&!m?Ie.clickable:"")},t.createElement("div",{className:Ie.imgContainer},o?t.createElement("div",{className:Ie.img,style:{backgroundImage:`url('${o}')`,height:d}}):t.createElement("div",{className:Ie.iconWrapper},t.createElement(Be,{iconName:i||"MiniExpand",styles:Cd}))),t.createElement("div",{className:Ie.textContainer},t.createElement("div",{className:Ie.header},t.createElement("div",{className:D("wave-s20 wave-w6 wave-t9",Ie.title)},r),c&&t.createElement("div",{className:D("wave-s14 wave-w4 wave-t5",Ie.category)},c)),l&&t.createElement("div",{className:"wave-s14 wave-w4 wave-t7"},t.createElement(_e,{source:l})),m&&t.createElement(Qe,{text:m,styles:{root:{marginTop:16}},onClick:f}))),changed:n}});V.register("tall_info",Nd);const Ma=L({card:{display:"flex",flexDirection:"column"},text:{padding:re.gap},aux_value:{color:"var(--text7)"}}),Sd=F(({name:e,state:a,changed:n})=>({render:()=>{const l=k.unpack(a.data),i=a.plot_type==="interval"?t.createElement(wn,{data:k.unpack(a.plot_data),category:a.plot_category,value:a.plot_value,color:p(a.plot_color),zeroValue:a.plot_zero_value}):t.createElement(En,{data:k.unpack(a.plot_data),value:a.plot_value,color:p(a.plot_color),zeroValue:a.plot_zero_value,curve:a.plot_curve||"linear"});return t.createElement("div",{"data-test":e,className:Ma.card},t.createElement("div",{className:Ma.text},t.createElement(Z,{data:l,format:a.title||"Untitled",className:"wave-s12 wave-w6"}),t.createElement(Z,{data:l,format:a.value,className:"wave-s24 wave-w3"}),t.createElement(Z,{data:l,format:a.aux_value,className:D(Ma.aux_value,"wave-s12")})),i)},changed:n}));V.register("tall_series_stat",Sd);const fr=L({card:{display:"flex",flexDirection:"column",textAlign:"center",padding:24,justifyContent:"space-around"},value:{color:p("$themePrimary")}}),_d=F(({name:e,state:a,changed:n})=>({render:()=>t.createElement("div",{"data-test":e,className:fr.card},a.items.map(({label:l,value:i},o)=>t.createElement("div",{key:`${o}-${l}`},i&&t.createElement("div",{className:D(fr.value,"wave-s40 wave-w4")},i),t.createElement("div",{className:"wave-s14 wave-w2"},l)))),changed:n}));V.register("tall_stats",_d);const Zt=L({card:{padding:re.gap,display:"flex",flexDirection:"column"},content:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"flex-end"},values:{display:"flex",alignItems:"baseline"},aux_value:{marginLeft:5,color:p("$text7")}}),Pd=F(({name:e,state:a,changed:n})=>({render:()=>{const l=k.unpack(a.data);return t.createElement("div",{"data-test":e,className:Zt.card},t.createElement(Z,{data:l,format:a.title,className:"wave-s12 wave-w6"}),t.createElement("div",{className:Zt.content},t.createElement("div",{className:Zt.values},t.createElement(Z,{data:l,format:a.value,className:"wave-s18 wave-w3"}),t.createElement(Z,{data:l,format:a.aux_value,className:D(Zt.aux_value,"wave-s13")})),t.createElement($l,{thickness:2,color:p(a.plot_color),value:a.progress})))},changed:n}));V.register("wide_bar_stat",Pd);const je=L({card:{display:"flex",padding:fe(8,re.gap)},lhs:{position:"relative",width:ce(50)},rhs:{width:ce(50),marginLeft:re.gap},values:{display:"flex",alignItems:"baseline"},percentContainer:B({position:"absolute",top:0,right:0,bottom:0,left:0},Ge()),percent:{opacity:.5},title:{overflow:"visible"},value:{lineHeight:28},aux_value:{color:p("$text7"),marginLeft:5}}),Dd=F(({name:e,state:a,changed:n})=>({render:()=>{const l=k.unpack(a.data);return t.createElement("div",{"data-test":e,className:je.card},t.createElement("div",{className:je.lhs},t.createElement(xn,{thickness:2,color:p(a.plot_color),value:a.progress}),t.createElement("div",{className:je.percentContainer},t.createElement("div",{className:je.percent},`${Math.round(a.progress*100)}%`))),t.createElement("div",{className:je.rhs},t.createElement(Z,{data:l,format:a.title,className:D(je.title,"wave-s12 wave-w6")}),t.createElement("div",{className:je.values},t.createElement(Z,{data:l,format:a.value,className:"wave-s24 wave-w3"}),t.createElement(Z,{data:l,format:a.aux_value,className:D(je.aux_value,"wave-s13")}))))},changed:n}));V.register("wide_gauge_stat",Dd);const Td={root:{fontSize:48,color:p("$neutralPrimary"),fontWeight:600}},Ee=L({card:{display:"flex",padding:24},right:{flexDirection:"row-reverse"},rhs:{display:"flex",flexDirection:"column"},lhs:{textAlign:"center",display:"flex",marginRight:16},imgSpecified:{width:ce(50),minWidth:ce(50)},clickable:{cursor:"pointer"},title:{color:p("$neutralPrimary")},subtitle:{marginTop:1},category:{color:p("$themeDark"),marginBottom:-1},header:{marginTop:-5,marginBottom:13},iconWrapper:ne(B({},Ge()),{background:p("$text1"),height:80,width:80,padding:8,boxSizing:"border-box",borderRadius:ce(50)}),img:{flexGrow:1,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",borderRadius:4}}),Ld=F(({name:e,state:a,changed:n})=>{const{title:r,caption:l,icon:i,image:o,category:c,name:s,subtitle:d,label:m,align:f="left"}=a,u=()=>{if(s.startsWith("#")){window.location.hash=s.substr(1);return}y.args[s]=s,y.push()};return{render:()=>t.createElement("div",{"data-test":e,onClick:s&&!m?u:void 0,className:D(Ee.card,s&&!m?Ee.clickable:"",f==="right"?Ee.right:"")},t.createElement("div",{className:D(Ee.lhs,!i&&o?Ee.imgSpecified:"")},o?t.createElement("div",{className:Ee.img,style:{backgroundImage:`url('${o}')`}}):t.createElement(Be,{iconName:i||"MiniExpand",className:Ee.iconWrapper,styles:Td})),t.createElement("div",{className:Ee.rhs},t.createElement("div",{className:Ee.header},c&&t.createElement("div",{className:D("wave-s14 wave-w5 wave-t7",Ee.category)},c),t.createElement("div",{className:D("wave-s20 wave-w6",Ee.title)},r),d&&t.createElement("div",{className:D("wave-s14 wave-w5 wave-t7",Ee.subtitle)},d)),l&&t.createElement("div",{className:"wave-s14 wave-w4 wave-t7",style:{marginBottom:m?16:void 0}},t.createElement(_e,{source:l})),m&&t.createElement(Re,{onClick:u,text:m,styles:{root:{marginTop:"auto",alignSelf:"flex-start"}}}))),changed:n}});V.register("wide_info",Ld);const Ae=L({card:{padding:24,display:"flex",justifyContent:"space-between",maxHeight:ce(100)},lhs:{maxWidth:ce(50),flexGrow:1},title:{color:p("$neutralPrimary"),marginBottom:24,marginTop:-7},value:{color:p("$neutralPrimary"),marginTop:-5},description:{marginLeft:4,marginBottom:16},label:{marginTop:-3,marginBottom:4},pie:{maxWidth:ce(65),flexGrow:1,display:"flex"},pieText:{textAnchor:"middle",fontSize:10,fill:p("$neutralLighterAlt")},pieLegend:{display:"flex"},colorPreview:{borderRadius:4,minWidth:16,height:16}}),Ad=F(({name:e,state:a,changed:n})=>({render:()=>{const{title:l,pies:i}=a,o=Pi().domain(i.map(({label:m})=>m)).range(i.map(({color:m})=>m)),c=0,s=50,d=na();return t.createElement("div",{"data-test":e,className:Ae.card},t.createElement("div",{className:Ae.lhs},t.createElement("div",{className:D("wave-s20 wave-w6",Ae.title)},l),i.map(({label:m,aux_value:f},u)=>t.createElement("div",{key:u,className:Ae.pieLegend},t.createElement("div",{className:Ae.colorPreview,style:{background:p(o(m))}}),t.createElement("div",{className:Ae.description},t.createElement("div",{className:D("wave-s16 wave-w6 wave-t7",Ae.label)},m),f&&t.createElement("div",{className:D("wave-s24 wave-w7",Ae.value)},f))))),t.createElement("div",{className:Ae.pie},t.createElement("svg",{viewBox:"0 0 100 100",width:"100%",height:"100%"},Di().value(m=>m.fraction)(i).map(({startAngle:m,endAngle:f,data:u},g)=>{const[x,w]=d.centroid({innerRadius:c,outerRadius:s,startAngle:m,endAngle:f});return t.createElement(t.Fragment,{key:g},t.createElement("path",{d:d({innerRadius:c,outerRadius:s,startAngle:m,endAngle:f}),fill:p(o(u.label)),transform:`translate(${s}, ${s})`}),t.createElement("text",{className:Ae.pieText,transform:`translate(${x+s}, ${w+s})`},u.value))}))))},changed:n}));V.register("wide_pie_stat",Ad);const ea=L({card:{display:"flex",padding:24},lhs:{marginTop:-5,marginRight:16,width:ce(35)},rhs:{width:ce(65)},title:{color:p("$neutralPrimary"),marginBottom:13}}),Bd=F(({name:e,state:a,changed:n})=>({render:()=>{const{title:l,caption:i,data:o,plot:c}=a;return t.createElement("div",{"data-test":e,className:ea.card},t.createElement("div",{className:ea.lhs},t.createElement("div",{className:D("wave-s20 wave-w5 wave-t9",ea.title)},l),i&&t.createElement("div",{className:"wave-s14 wave-w4 wave-t7"},i)),t.createElement("div",{className:ea.rhs},t.createElement(bn,{model:{data:o,plot:c}})))},changed:n}));V.register("wide_plot",Bd);const dt=L({card:{display:"flex",padding:re.gap},plot:{display:"flex",width:ce(50)},text:{width:ce(50),paddingLeft:re.gap},values:{display:"flex",alignItems:"baseline"},value:{lineHeight:"28px"},aux_value:{color:p("$text7"),marginLeft:5}}),zd=F(({name:e,state:a,changed:n})=>({render:()=>{const l=k.unpack(a.data),i=a.plot_type==="interval"?t.createElement(wn,{data:k.unpack(a.plot_data),category:a.plot_category,value:a.plot_value,color:p(a.plot_color),zeroValue:a.plot_zero_value}):t.createElement(En,{data:k.unpack(a.plot_data),value:a.plot_value,color:p(a.plot_color),zeroValue:a.plot_zero_value,curve:a.plot_curve||"linear"});return t.createElement("div",{"data-test":e,className:dt.card},t.createElement("div",{className:dt.plot},i),t.createElement("div",{className:dt.text},t.createElement(Z,{data:l,format:a.title,className:"wave-s12 wave-w6"}),t.createElement("div",{className:dt.values},t.createElement(Z,{data:l,format:a.value,className:D(dt.value,"wave-s24 wave-w3")}),t.createElement(Z,{data:l,format:a.aux_value,className:D(dt.aux_value,"wave-s13")}))))},changed:n}));V.register("wide_series_stat",zd);const Fe=L({card:{display:"flex",flexDirection:"column",padding:24},clickable:{cursor:"pointer"},header:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:24,$nest:{".ms-Persona-primaryText":{fontSize:16,lineHeight:me(22),fontWeight:500},".ms-Persona-secondaryText":{fontSize:14,lineHeight:me(20),color:p("$text7")},".ms-Persona-image":{height:ge("40px"),width:ge("40px")},".ms-Persona-imageArea":{height:ge("40px"),width:ge("40px")}}},aux_value:{marginBottom:4},content:{flex:1,display:"flex"},img:{marginRight:24,flex:1,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},rhs:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between"},items:{$nest:{"& .ms-Icon, & .ms-Button-label":{color:p("$text")}}},title:{marginBottom:8,lineHeight:.6}}),Rd=F(({name:e,state:a,changed:n})=>({render:()=>{const{persona:l,aux_value:i,name:o,image:c,title:s,caption:d,items:m,content:f}=a,u=()=>{if(!!o){if(o.startsWith("#")){window.location.hash=o.substr(1);return}y.args[o]=o,y.push()}};return l.persona&&(l.persona.size="xs"),t.createElement("div",{"data-test":e,onClick:u,className:D(Fe.card,o?Fe.clickable:"")},t.createElement("div",{className:Fe.header},l.persona&&t.createElement(Mt,{model:l.persona}),i&&t.createElement("div",{className:D("wave-s12 wave-t7",Fe.aux_value)},i)),t.createElement("div",{className:Fe.content},t.createElement("div",{className:Fe.img,style:{backgroundImage:`url('${c}')`}}),t.createElement("div",{className:Fe.rhs},t.createElement("div",null,s&&t.createElement("div",{className:D("wave-s16 wave-w6",Fe.title)},s),(f||d)&&t.createElement("div",{style:{marginBottom:m?24:0},className:"wave-s14 wave-w4 wave-t7"},f?t.createElement(_e,{source:f}):d)),m&&t.createElement("div",{className:Fe.items},t.createElement(ve,{items:m})))))},changed:n}));V.register("wide_article_preview",Rd);const Id=L({live:{backgroundColor:"#ff2938",color:"#fff",fontSize:11,fontWeight:700,letterSpacing:4,textAlign:"center",margin:pe(5,0,10),padding:fe(2,0),borderRadius:2}}),Fd=()=>t.createElement("div",null,t.createElement("svg",{width:"35.964439mm",height:"9.0737419mm",viewBox:"0 0 35.964439 9.0737419"},t.createElement("g",{transform:"matrix(0.54446153,0,0,0.54446153,-16.152559,-20.599374)"},t.createElement("path",{d:"m 44.823532,48.430372 q 0,0.633406 -0.452432,1.085839 -0.429811,0.429811 -1.063217,0.429811 h -5.564924 l -5.632788,4.230247 q -0.384568,0.294081 -0.837,0.316703 -0.452433,0.04524 -0.859623,-0.203595 -0.339324,-0.203595 -0.542919,-0.54292 -0.203595,-0.339324 -0.203595,-0.769135 v -9.093899 q 0,-0.633406 0.429811,-1.063217 0.452433,-0.452433 1.085839,-0.452433 0.633406,0 1.063217,0.452433 0.452433,0.429811 0.452433,1.063217 v 6.062599 l 3.642084,-2.737218 q 0.407189,-0.294082 0.904865,-0.294082 h 4.54695 v -3.031299 q 0,-0.633406 0.429811,-1.063217 0.452433,-0.452433 1.085839,-0.452433 0.633406,0 1.063217,0.452433 0.452432,0.429811 0.452432,1.063217 z"}),t.createElement("path",{d:"m 61.789719,48.430372 q 0,0.633406 -0.452433,1.085839 -0.429811,0.429811 -1.063217,0.429811 -0.633406,0 -1.085839,-0.429811 -0.429811,-0.452433 -0.429811,-1.085839 v -6.062599 l -9.704683,7.261546 q -0.520298,0.384568 -1.153704,0.316703 -0.633405,-0.09049 -1.017973,-0.633406 -0.384568,-0.520298 -0.27146,-1.10846 0.09049,-0.610784 0.588163,-0.995352 l 12.14782,-9.071278 q 0.361946,-0.271459 0.791757,-0.294081 0.429811,-0.04524 0.791758,0.13573 0.384568,0.158351 0.610784,0.520298 0.248838,0.361946 0.248838,0.837 z"}),t.createElement("path",{d:"m 78.507067,43.001179 q 0.384568,0.520297 0.27146,1.131082 -0.09049,0.588162 -0.588162,0.97273 l -12.147821,9.071278 q -0.384568,0.271459 -0.814379,0.294081 -0.407189,0.04524 -0.791757,-0.13573 -0.361946,-0.158351 -0.610784,-0.520298 -0.226217,-0.361946 -0.226217,-0.837 v -9.093899 q 0,-0.633406 0.429811,-1.063217 0.452433,-0.452433 1.085839,-0.452433 0.633406,0 1.063217,0.452433 0.452433,0.429811 0.452433,1.063217 v 6.062599 l 9.704683,-7.261546 q 0.520298,-0.384568 1.153704,-0.294081 0.633406,0.06786 1.017973,0.610784 z"}),t.createElement("path",{d:"m 95.722092,52.977322 q 0,0.633406 -0.452433,1.063217 -0.429811,0.452433 -1.063217,0.452433 h -6.062599 q -0.633406,0 -1.085839,-0.452433 -0.429811,-0.429811 -0.429811,-1.063217 v -3.0313 h -4.546949 q -0.633406,0 -1.085839,-0.429811 -0.429811,-0.452433 -0.429811,-1.085839 v -4.546949 q 0,-0.633406 0.429811,-1.063217 0.452433,-0.452433 1.085839,-0.452433 h 12.125198 q 0.633406,0 1.063217,0.452433 0.452433,0.429811 0.452433,1.063217 0,0.633406 -0.452433,1.085838 -0.429811,0.429812 -1.063217,0.429812 H 83.596893 v 1.515649 h 4.54695 q 0.633406,0 1.063217,0.452433 0.452433,0.429811 0.452433,1.063217 v 3.0313 h 4.546949 q 0.633406,0 1.063217,0.429811 0.452433,0.452433 0.452433,1.085839 z"}))),t.createElement("div",{className:D("wave-pulse",Id.live)},"LIVE")),Md={xs:"0px",s:"576px",m:"768px",l:"992px",xl:"1200px"},gr=k.box([]),tn=k.box(null),Nl=k.box(),hr=e=>{var a;return parseInt((a=Md[e])!=null?a:e,10)},yr={order:0},Wd=({zone:e,order:a,size:n,width:r,height:l})=>({zone:e,order:a||0,grow:n?k.parseU(n):NaN,width:r,height:l}),Hd=(e,a)=>{try{if(a[0]==="["){const n=JSON.parse(a);if(a=n[e],a||(a=n[0]),!a)return yr}return a[0]==="{"?Wd(JSON.parse(a)):{zone:a,order:0}}catch{return yr}},Od=(e,a)=>{const n=[],r=[];for(const l of e)(a(l)?n:r).push(l);return[n,r]};k.on(xa,e=>{const a=e.map((n,r)=>{const l=e[r+1],i=hr(n.breakpoint),o=l?hr(l.breakpoint)-1:0,c=window.matchMedia(o?`(min-width:${i}px) and (max-width:${o}.98px)`:`(min-width:${i}px)`),s=m=>{m.matches&&(tn({layout:n,index:r}),Nl({}))},d={layout:n,min:i,max:o,mq:c,listener:s};return c.addListener(s),c.matches&&tn({layout:n,index:r}),d});for(const{mq:n,listener:r}of gr())n.removeListener(r);gr(a)});const Vd=L({flex:{position:"relative",display:"flex"}}),jd=(e,a)=>{var r,l,i;const n={flexDirection:e.direction==="row"?"row":"column",justifyContent:dn[(r=e.justify)!=null?r:""],alignItems:Or[(l=e.align)!=null?l:""],alignContent:Vr[(i=e.wrap)!=null?i:""],flexWrap:e.wrap?"wrap":void 0};if(e.size){const o=k.parseU(e.size);isNaN(o)?a==="row"?(n.width=e.size,n.minWidth=e.size):(n.height=e.size,n.minHeight=e.size):o>0&&(n.flexGrow=o)}else a==="row"&&(n.flexGrow=1);return n},Ud=({card:e,slot:a})=>{const{width:n,height:r,grow:l}=a,i=e.name==="__unhandled_error__"?1:void 0,o={position:"relative",zIndex:i};return l||l===0||n||r?(l&&(o.flexGrow=l),n&&(o.width=n),r&&(o.height=r)):o.flexGrow=1,o},Sl=e=>{var a;return{zone:e,sections:(a=e.zones)==null?void 0:a.map(Sl),cardslots:[]}},_l=(e,a)=>{const{zone:n,sections:r}=e;if(n.name===a)return e;if(r)for(const l of r){const i=_l(l,a);if(i)return i}return null},Pl=e=>{const{sections:a}=e;if(a)for(const n of a)Pl(n);e.cardslots.sort((n,r)=>n.slot.order-r.slot.order)},Dl=({section:e,hasEditor:a,direction:n})=>{const{zone:r,cardslots:l,sections:i}=e,o=i?i.map(c=>t.createElement(Dl,{key:c.zone.name,section:c,hasEditor:a,direction:r.direction})):l.length?l.map(c=>{const{card:s}=c;return t.createElement("div",{key:s.id,className:Zr(s),style:Ud(c)},t.createElement(Ft,{card:s}),t.createElement(un,{name:s.name,commands:s.state.commands,changedB:s.changed,canEdit:a}))}):null;return t.createElement("div",{"data-test":r.name,className:Vd.flex,style:jd(r,n)},o)},Xd=({name:e,cards:a})=>{var x;const n=tn();if(!n)return t.createElement(t.Fragment,null);const{layout:r,index:l}=n,i=Sl({name:"__main__",zones:r.zones,size:"1"}),{width:o,min_width:c,max_width:s,height:d,min_height:m,max_height:f}=r,u=a.find(w=>w.state.view==="editor");for(const w of a){const P=Hd(l,w.state.box),b=_l(i,(x=P.zone)!=null?x:"");b==null||b.cardslots.push({card:w,slot:P})}Pl(i);const g={display:"flex",flexDirection:"column",width:o!=null?o:"100%",minWidth:c,maxWidth:s,height:d,minHeight:m,maxHeight:f};return d==="100%"&&(g.display="flex",g.flexDirection="column"),t.createElement("div",{"data-test":e,style:g},t.createElement(Dl,{section:i,hasEditor:!!u}),u&&t.createElement(Ft,{card:u}))},Gd=F(({page:e})=>{let a=null,n=null;const{changed:r}=e;return{render:()=>{const i=e.items(),[o,c]=Od(i,s=>s.state.view==="meta");return o.length&&(n==null||n.dispose(),a=o[0],sr(a),n=k.on(a.changed,()=>sr(a))),xa().length?t.createElement(Xd,{name:e.key,cards:c}):t.createElement(oo,{name:e.key,cards:c})},changed:r,resizedB:Nl}}),we=L({app:{position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:p("$page"),color:p("$text"),display:"flex",justifyContent:"center",overflow:"auto"},centerFullHeight:{height:ce(100),display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:p("$page"),color:p("$text")},freeOverlay:{position:"fixed",left:0,top:0,right:0,bottom:0,opacity:0,zIndex:-1},busyOverlay:{position:"fixed",left:0,top:0,right:0,bottom:0,opacity:.8,zIndex:999,transition:"opacity 500ms 500ms"},notFoundOverlay:{display:"flex",flexDirection:"column",alignItems:"center"}}),qd=F(()=>({render:()=>t.createElement("div",{className:sa()?we.busyOverlay:we.freeOverlay},t.createElement(Rr,{className:we.centerFullHeight,label:"Loading...",size:Ir.large})),busyB:sa})),Qd=F(()=>{const e=k.box(!1),a=()=>{e(!0)};return{render:()=>t.createElement("div",{className:we.notFoundOverlay},t.createElement(Fd,null),ca.editable&&t.createElement(t.Fragment,null,t.createElement(Qe,{onClick:a},"Edit this page..."),t.createElement(Wc,{visibleB:e})))}}),Yd=F(()=>{const e=()=>y.push(),a=({detail:i})=>{y.args[i]=!0,y.push()};return{init:()=>{Ki(y.socketURL),window.addEventListener("hashchange",e),window.addEventListener("md-link-click",a)},render:()=>{const i=oa();if(i)switch(i.t){case k.WaveEventType.Page:{const o=i.page;return t.createElement(Ti,{applyTheme:!0},t.createElement("div",{className:we.app},t.createElement(Gd,{key:o.key,page:o}),t.createElement(qd,null),t.createElement(Ec,null),t.createElement(Pc,null),t.createElement(xc,null)))}case k.WaveEventType.Error:{const o=i.code===k.WaveErrorCode.PageNotFound?t.createElement(Qd,null):"Unknown Remote Error";return t.createElement("div",{className:D(we.centerFullHeight,we.app)},o)}case k.WaveEventType.Exception:{const o=`Unhandled exception: ${i.error}`;return t.createElement("div",{className:D(we.centerFullHeight,we.app)},o)}case k.WaveEventType.Disconnect:{const o=`Disconnected. Reconnecting in ${i.retry}s`;return t.createElement("div",{className:D(we.centerFullHeight,we.app)},o)}}return t.createElement(Rr,{className:we.centerFullHeight,size:Ir.large,label:"Loading ..."})},dispose:()=>{window.removeEventListener("hashchange",e),window.removeEventListener("md-link-click",a)},contentB:oa}}),Kd=L({login:{width:"100%",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}}),Jd=()=>{const e=`${y.initURL}${window.location.search}`;return t.createElement("div",{className:Kd.login},t.createElement("form",{action:e,method:"POST"},t.createElement(Ha,{type:"default",secondaryText:"using OpenID Connect."},"Log In")))},Zd=()=>{const e=[{path:y.loginURL,exact:!0,render:()=>t.createElement(Jd,null)},{path:y.baseURL,exact:!1,render:()=>t.createElement(Yd,null)}];return t.createElement(Li,null,t.createElement(Ai,null,e.map((a,n)=>t.createElement(Bi,{key:n,path:a.path,exact:a.exact,render:a.render}))))};Boolean(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function em(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}br({defaultFontStyle:{fontFamily:"Inter"},palette:Hi.fluentPalette});const tm=Object.entries(zi).reduce((e,[a,n])=>("displayName"in n&&(e[a.slice(0,-4)]=t.createElement(n)),e),{});Ri({icons:tm});Ii.render(t.createElement(Zd,null),document.getElementById("root"));em();export{nm as __vite_legacy_guard};
